
<style>
    * {
        box-sizing: border-box !important;
    }

    body {
        font-family: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        line-height: 1.9 !important;
        color: #1f1f1f !important;
        max-width: none !important;
        margin: 0 !important;
        padding: 8px 16px 16px 16px !important;
        background: #ffffff !important;
        font-size: 16.5px !important;
    }

    p {
        margin-bottom: 20px !important;
        font-size: 16.5px !important;
        line-height: 1.95 !important;
        color: #1f1f1f !important;
        font-weight: 400 !important;
    }

    strong, b {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        background: rgba(26, 115, 232, 0.08) !important;
        padding: 2px 6px !important;
        border-radius: 8px !important;
    }

    /* Details/Summary (collapsible sections) */
    details {
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%) !important;
        border-radius: 8px !important;
        padding: 24px 28px !important;
        margin: 24px 0 !important;
        border: none;
        box-shadow: none !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }

    details:hover {
        border-color: #1a73e8 !important;
        box-shadow: none !important;
        transform: translateY(-2px) !important;
    }

    details[open] {
        background: #ffffff !important;
        border-color: #1a73e8 !important;
        box-shadow: none !important;
    }

    summary {
        cursor: pointer !important;
        font-weight: 800 !important;
        color: #ffffff !important;
        font-size: 20px !important;
        padding: 16px 24px !important;
        border-radius: 8px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        display: flex !important;
        align-items: center !important;
        user-select: none !important;
        box-shadow: none !important;
        letter-spacing: 0.5px !important;
    }

    summary:hover {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        transform: translateX(6px) scale(1.02) !important;
        box-shadow: none !important;
    }

    summary:active {
        transform: translateX(4px) scale(0.99) !important;
    }

    summary::marker {
        color: rgba(255, 255, 255, 0.9) !important;
        font-size: 1.3em !important;
    }

    summary strong {
        background: rgba(255, 255, 255, 0.2) !important;
        color: #ffffff !important;
        padding: 4px 12px !important;
        border-radius: 8px !important;
        margin-left: 8px !important;
        font-size: 19px !important;
        letter-spacing: 1px !important;
    }

    /* Tables - Premium Design */
    table {
        width: 100% !important;
        border-collapse: separate !important;
        border-spacing: 0 !important;
        margin: 28px 0 !important;
        border-radius: 8px !important;
        overflow: hidden !important;
        box-shadow: none !important;
        border: none !important;
        background: #ffffff !important;
    }

    table.simple-table {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important;
    }

    table tr {
        transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
        position: relative !important;
    }

    table tr:nth-child(odd) {
        background: rgba(248, 249, 250, 0.5) !important;
    }

    table tr:nth-child(even) {
        background: rgba(255, 255, 255, 0.8) !important;
    }

    table tr:hover {
        background: linear-gradient(90deg, #e8f0fe 0%, #f1f8ff 100%) !important;
        transform: translateX(4px) scale(1.01) !important;
        box-shadow: none !important;
        z-index: 1 !important;
    }

    table td {
        padding: 18px 24px !important;
        border-bottom: 1px solid rgba(232, 234, 237, 0.6) !important;
        font-size: 16.5px !important;
        line-height: 1.7 !important;
        color: #1f1f1f !important;
        vertical-align: middle !important;
    }

    table tr:last-child td {
        border-bottom: none !important;
    }

    /* First column (A, B, C, D, E) */
    table td:first-child {
        font-weight: 800 !important;
        color: #ffffff !important;
        width: 52px !important;
        text-align: center !important;
        font-size: 18px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        border-right: 3px solid #1557b0 !important;
        position: relative !important;
        letter-spacing: 0.5px !important;
    }

    table tr:hover td:first-child {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        box-shadow: none !important;
    }

    /* Second column (content) */
    table td:nth-child(2) {
        font-weight: 500 !important;
        padding-left: 28px !important;
    }

    /* Third column (empty - hide it) */
    table td:last-child:empty {
        display: none !important;
    }

    /* Lists */
    ul, ol {
        margin: 16px 0 !important;
        padding-left: 32px !important;
    }

    li {
        margin: 10px 0 !important;
        line-height: 1.8 !important;
        color: #1f1f1f !important;
    }

    ul.bulleted-list li {
        position: relative !important;
        padding-left: 8px !important;
    }

    ul.toggle {
        list-style: none !important;
        padding-left: 0 !important;
    }

    /* Links */
    a {
        color: #1a73e8 !important;
        text-decoration: none !important;
        font-weight: 600 !important;
        border-bottom: 2px solid transparent !important;
        transition: all 0.2s !important;
    }

    a:hover {
        border-bottom-color: #1a73e8 !important;
        background: rgba(26,115,232,0.08) !important;
        padding: 2px 4px !important;
        border-radius: 8px !important;
    }

    /* Images & Media */
    img, video {
        max-width: none !important;
        height: auto !important;
        border-radius: 8px !important;
        box-shadow: none !important;
        margin: 24px 0 !important;
        display: block !important;
        border: none !important;
    }

    img:hover, video:hover {
        box-shadow: none !important;
        border-color: #1a73e8 !important;
    }

    /* Code blocks (if any) */
    code {
        background: #f1f3f4 !important;
        padding: 2px 8px !important;
        border-radius: 8px !important;
        font-family: 'Courier New', monospace !important;
        font-size: 14px !important;
        color: #d93025 !important;
    }

    pre {
        background: #f8f9fa !important;
        padding: 8px 16px 16px 16px !important;
        border-radius: 8px !important;
        overflow-x: auto !important;
        border-left: 4px solid #1a73e8 !important;
    }

    /* Headings */
    h1, h2, h3, h4, h5, h6 {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        margin-top: 24px !important;
        margin-bottom: 16px !important;
        line-height: 1.4 !important;
    }

    h1 { font-size: 32px !important; }
    h2 { font-size: 26px !important; }
    h3 { font-size: 22px !important; }
    h4 { font-size: 19px !important; }

    /* Blockquotes */
    blockquote {
        border-left: 4px solid #1a73e8 !important;
        padding-left: 20px !important;
        margin: 20px 0 !important;
        font-style: italic !important;
        color: #5f6368 !important;
        background: #f8f9fa !important;
        padding: 16px 20px !important;
        border-radius: 8px !important;
    }

    /* Horizontal Rule */
    hr {
        border: none !important;
        height: 2px !important;
        background: linear-gradient(to right, transparent, #1a73e8, transparent) !important;
        margin: 32px 0 !important;
    }

    /* Selection */
    ::selection {
        background: #e8f0fe !important;
        color: #1a73e8 !important;
    }

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>




<details open>
<summary><strong>107433</strong><button class="bionic-reading-btn" onclick="toggleBionicReading(event)" title="Toggle Bionic Reading (Ctrl+B)"><span id="bionicIcon">üëÅÔ∏è</span></button><button class="highlighter-btn" onclick="toggleHighlighter(event)" title="Toggle Highlighter (Ctrl+H)"><span id="highlighterIcon">üñäÔ∏è</span></button></summary>
<p class="" id="3b12f330-6223-4337-8a74-b4eddb3226a4">A 19-year-old woman with
                                        obesity comes to the office due to bifrontal headaches and early-morning nausea
                                        and vomiting for 4 weeks.  She appears alert and is cooperative.  Blood pressure
                                        is 114/78 mm Hg and pulse is 80/min.  BMI is 31 kg/m2.  Funduscopy shows
                                        bilateral papilledema.  Visual acuity is 20/20 bilaterally.  Neurologic
                                        examination shows no abnormalities.  CT scan of the head reveals no
                                        abnormalities.  Which of the following is the most likely explanation for this
                                        patient's symptoms?</p>
<table class="simple-table" id="868d4184-8271-47af-bc27-8b0bef48d99e">
<tbody>
<tr id="91e3e7f2-804d-4be2-bd38-eca71b81f041">
<td class="" id="XJx`">A.</td>
<td class="" id=":iz`">Aqueductal stenosis</td>
<td class="" id="]AH&lt;"></td>
</tr>
<tr id="dfac3a5f-3f63-45aa-94ba-dd80114a7baf">
<td class="" id="XJx`">B.</td>
<td class="" id=":iz`">Astrocyte swelling</td>
<td class="" id="]AH&lt;"></td>
</tr>
<tr id="6c98a406-fda0-43a0-8466-3afe5dcc4d49">
<td class="" id="XJx`">C.</td>
<td class="" id=":iz`">Cerebral venous hypertension</td>
<td class="" id="]AH&lt;"></td>
</tr>
<tr id="1a5f32cf-c80b-4bdd-8912-218611561ff6">
<td class="" id="XJx`">D.</td>
<td class="" id=":iz`">Increased production of cerebrospinal fluid</td>
<td class="" id="]AH&lt;"></td>
</tr>
<tr id="bb5dd347-446b-475b-8074-7d5ee8484e61">
<td class="" id="XJx`">E.</td>
<td class="" id=":iz`">Neurodegeneration</td>
<td class="" id="]AH&lt;"></td>
</tr>
</tbody>
</table>
<ul class="toggle" id="eddf526f-43f4-4d34-ae72-30364928c8eb">
<li>
<details>
<summary>Submit</summary>
<table class="simple-table" id="750b3028-b4eb-42f9-bf66-54ba8ad51c56">
<tbody>
<tr id="25a44b8c-51fb-4a8d-9011-2d86085e38b2">
<td class="" id="vdSj">A.</td>
<td class="" id="srCi">Aqueductal stenosis (14%)</td>
<td class="" id="mMq}"></td>
</tr>
<tr id="33a14c61-cad5-4d09-bba1-a619669257de">
<td class="" id="vdSj">B.</td>
<td class="" id="srCi">Astrocyte swelling (5%)</td>
<td class="" id="mMq}"></td>
</tr>
<tr id="f987e1a8-afe8-41f8-a2f3-053988a900b4">
<td class="" id="vdSj">C.</td>
<td class="" id="srCi">Cerebral venous hypertension (40%)
                                                            </td>
<td class="" id="mMq}"></td>
</tr>
<tr id="31e589ac-98e2-410b-bcef-b83b6aab697b">
<td class="" id="vdSj">D.</td>
<td class="" id="srCi">Increased production of cerebrospinal
                                                                fluid (38%)</td>
<td class="" id="mMq}"></td>
</tr>
<tr id="8e447ad9-1e17-4711-8739-d2cfbd63bb34">
<td class="" id="vdSj">E.</td>
<td class="" id="srCi">Neurodegeneration (1%)</td>
<td class="" id="mMq}"></td>
</tr>
</tbody>
</table>
<p class="" id="08328e63-29c3-400e-88d0-6090738b340d">Correct</p>
<p class="" id="faaffb3d-b092-457e-990d-f2c10274dd2b">40%Answered
                                                    correctly</p>
<p class="" id="e130311c-07c9-47b3-ba3d-1ecb581a95f1">13 secsTime Spent
                                                </p>
<p class="" id="a79f8809-b244-4fd7-80bc-25df071cb511">2024Version</p>
<ul class="bulleted-list" id="4aa8260e-ef65-4e3a-a54c-a13c84277e4c">
<li style="list-style-type:disc">Explanation</li>
</ul>
<ul class="bulleted-list" id="97483f0b-25c6-4a0c-adcc-3339ec4156c4">
<li style="list-style-type:disc"></li>
</ul>
<p class="" id="36f91de6-9e60-4855-ac30-9e4b15990d53">This
                                                    patient's headaches, nausea/vomiting, and papilledema are
                                                    consistent with increased intracranial pressure (ICP).  Headaches
                                                    are nearly always present in patients with increased ICP.  They can
                                                    be of variable patterns but classically worsen during recumbent
                                                    positioning (eg, at night, on waking in the morning) or while
                                                    straining (eg, during bowel movements or heavy lifting), which
                                                    increases ICP.</p>
<p class="" id="d9745d7a-1f77-4053-9d82-8fc318d22d2e">Although the
                                                    underlying cause of this patient's elevated ICP has yet to be
                                                    proved, idiopathic intracranial hypertension (IIH) is likely, given
                                                    her young age, obesity, lack of additional comorbidities, and normal
                                                    CT scan of the head.  Alternately, her presentation can be explained
                                                    by a clot in the cerebral venous system (ie, cerebral venous sinus
                                                    thrombosis [CVST]), which can also present with signs of increased
                                                    ICP without obvious head CT findings.</p>
<p class="" id="8644203c-5721-4ed2-a1d5-8969bb0df78f">IIH and CVST are
                                                    thought to share a similar pathophysiology.  Cerebrospinal fluid
                                                    (CSF) normally flows through the ventricular system until it is
                                                    reabsorbed by the arachnoid granulations, after which it drains into
                                                    the cerebral venous sinuses.  Congestion of the venous system (ie,
                                                    cerebral venous hypertension) due to either a clot (in CVST) or a
                                                    primary increase in intracranial venous pressure (in IIH) leads to
                                                    decreased CSF resorption, resulting in increased ICP.</p>
<p class="" id="9aa237cb-064a-40ea-8db9-98e5b433bb5a">(Choices A and D) 
                                                    Aqueductal stenosis blocks CSF flow from the lateral and third
                                                    ventricles into the fourth ventricle.  It could present with
                                                    increased ICP, but CT scan would show enlarged lateral and third
                                                    ventricles.  Increased CSF production, which can be caused by
                                                    choroid plexus papilloma (CPP), would also present with
                                                    ventriculomegaly (and an intraventricular mass in the case of CPP)
                                                    on CT scan.</p>
<p class="" id="2ebf3ed1-cd9a-4c4e-bec2-740ee83656ba">(Choice B) 
                                                    Astrocyte swelling (cytotoxic cerebral edema) can present with
                                                    increased ICP.  However, cerebral edema is usually appreciated on CT
                                                    scan, revealing flattening of the ventricles, effaced gyri, and a
                                                    decrease in gray-white differentiation.</p>
<p class="" id="5e56e7ef-916e-42f5-8120-637c01c8bb80">(Choice E) 
                                                    Neurodegenerative diseases (eg, Alzheimer) can lead to decreased
                                                    brain volume, which may allow the CSF spaces to expand
                                                    (hydrocephalus ex vacuo).  This tends to occur slowly, so the ICP
                                                    has time to equilibrate and remain in the normal range.</p>
<p class="" id="0dd74bfb-0378-472c-b091-2c8dbb0c9e2b">Educational
                                                    objective:</p>
<p class="" id="368071ee-748d-4a8f-96a9-df2cfd979241">Elevated
                                                    intracranial pressure in the absence of an intracranial mass lesion
                                                    or ventriculomegaly is suggestive of decreased resorption of
                                                    cerebrospinal fluid.  This often occurs when the cerebral venous
                                                    sinus system drainage is impaired due to either idiopathic
                                                    intracranial hypertension or cerebral venous sinus thrombosis.</p>
<p class="" id="449f411e-e298-4e18-908e-c62e21fb1d1d">Pathophysiology
                                                </p>
<p class="" id="bc1deebc-373e-4e32-ab0e-5a61df6a47e4">Subject</p>
<p class="" id="9f8d7b37-7f49-4c31-8002-aa27f5c56c26">Nervous System</p>
<p class="" id="ab98dcb9-e286-42bc-8a51-b9a60f608b86">System</p>
<p class="" id="54de8646-0683-44cb-af57-ec8e12472a4d">Idiopathic
                                                    Intracranial Hypertension</p>
<p class="" id="ffadf348-c95c-44ab-9bcf-65e47468533c">Topic</p>
<p class="" id="53bfe62f-21dc-4b98-bfdd-d292c7655096">Copyright ¬©
                                                    UWorld. All rights reserved.</p>
<p class="" id="28b9f093-d500-4115-9e28-570cf4f751dd">My Notebook</p>
<p class="" id="bc6695cb-4d74-481c-a7cf-c58281b69482">0</p>
<p class="" id="8994d5be-9c65-46d5-a80d-d05f9ef92842">Flashcards</p>
<p class="" id="9e2778ec-d52d-4dac-881b-9e8609339f44">Feedback</p>
<p class="" id="2feac2cd-b5be-4565-bc82-8a916ebb22d2">Suspend</p>
<p class="" id="0c14afdc-7c4a-4801-8043-c9e7a25412c6">End Block</p>
<p class="" id="67793f19-7624-4918-849f-f42ae007a690">‚ú®Done</p>
<p class="" id="21125209-fd65-4497-8bc7-f2380f408eef">Exhibit Display
                                                </p>
<figure class="image" id="bb503a0e-a13d-428f-85a7-2ce28a967dbd"><a href="https://lh7-us.googleusercontent.com/4tYaOWVHKRJFutiNMiLPKOISoLz-fBQd3nh0CjYwF30NjzS_QaCDJR2iZs8u_fEo6tB17k6qYGEeCvGWSRye1qzjxQBygaio__lcDRdkYNahpzfUUteSYDjw--s5itM5Ds_IKdZupqI0v_oV_atzXoA"><img loading="lazy" src="https://lh7-us.googleusercontent.com/4tYaOWVHKRJFutiNMiLPKOISoLz-fBQd3nh0CjYwF30NjzS_QaCDJR2iZs8u_fEo6tB17k6qYGEeCvGWSRye1qzjxQBygaio__lcDRdkYNahpzfUUteSYDjw--s5itM5Ds_IKdZupqI0v_oV_atzXoA" style="width:602px"/></a>
</figure>
<p class="" id="0121dfc0-0619-4a3e-9046-7471163f61a3">Zoom InZoom Out 
                                                    ResetNew</p>
<p class="" id="16127d25-c4b5-4ce4-9bde-32eaf35c2bb6">ExistingMy
                                                    Notebook</p>
<p class="" id="396c7dd5-0e9b-4b77-9288-65b159bfe96b">Exhibit Display
                                                </p>
<figure class="image" id="e2e2d8f2-4d76-4170-a339-0bd79283bff4"><a href="https://lh7-us.googleusercontent.com/wsuOzlzNylXAlLT3zfRWm8vpCWjKA0o9mmcukIbxQ5AR41GlZ5T4OWnM1YYMORyK25aUnlktWIN1Z7QO21tpvtHrei66pbqtKZm-jZE5KptWInPbtyrb2eVph5qPnDqFKcjPo0tcLbGvvuU_KYwI3-c"><img loading="lazy" src="https://lh7-us.googleusercontent.com/wsuOzlzNylXAlLT3zfRWm8vpCWjKA0o9mmcukIbxQ5AR41GlZ5T4OWnM1YYMORyK25aUnlktWIN1Z7QO21tpvtHrei66pbqtKZm-jZE5KptWInPbtyrb2eVph5qPnDqFKcjPo0tcLbGvvuU_KYwI3-c" style="width:602px"/></a>
</figure>
<p class="" id="46f3782b-615a-4461-baa5-102cd7a49952">Zoom InZoom Out 
                                                    ResetNew</p>
<p class="" id="d299ccd3-11f2-43c7-905b-f1b33d9d5beb">ExistingMy
                                                    Notebook</p>
<p class="" id="652f6482-0a6d-4496-91b8-32197a33bf24">Exhibit Display
                                                </p>
<figure class="image" id="a0dad726-8b4e-4091-99f6-71d5bc7624a8"><a href="https://lh7-us.googleusercontent.com/x-camEu539ykq9BxMGQ99tLFN_zisNe3s6RmmXCSu1WH2ai90sIG7uf0QCio-7Zlvt1prBqhra9AN7_8Up0kIYQv1ePjAMIN_JgwJKMixLQb88BkjimjD9cN7JN_Mik_c15Q-t15Y_YhCEpeWVXRR30"><img loading="lazy" src="https://lh7-us.googleusercontent.com/x-camEu539ykq9BxMGQ99tLFN_zisNe3s6RmmXCSu1WH2ai90sIG7uf0QCio-7Zlvt1prBqhra9AN7_8Up0kIYQv1ePjAMIN_JgwJKMixLQb88BkjimjD9cN7JN_Mik_c15Q-t15Y_YhCEpeWVXRR30" style="width:602px"/></a>
</figure>
<p class="" id="ad9dc253-7740-4720-89b1-3969a05ff79a">Zoom InZoom Out 
                                                    ResetNew</p>
<p class="" id="702a543b-4582-4b7b-b252-88ed0abbae13">ExistingMy
                                                    Notebook</p>
</details>
</li>
</ul>
</details>


















<style>
.bionic-reading-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s;
    margin-left: auto;
    flex-shrink: 0;
}

.bionic-reading-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    border-color: rgba(255, 255, 255, 0.5);
    transform: scale(1.1);
}

.bionic-reading-btn.active {
    background: rgba(52, 168, 83, 0.4);
    border-color: rgba(52, 168, 83, 0.6);
}

.bionic-reading-btn.active:hover {
    background: rgba(52, 168, 83, 0.5);
}

summary {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
}

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }


    


    

    /* Adjust table padding to make room for radio button */
    


    /* Clickable Answer Choices */
    table tr.answer-choice {
        cursor: pointer !important;
        transition: all 0.3s ease !important;
    }

    table tr.answer-choice:hover {
        background: #f8f9fa !important;
    }

    table tr.answer-choice td:first-child {
        position: relative !important;
        padding-left: 35px !important;
    }

    table tr.answer-choice td:first-child::before {
        content: '';
        position: absolute;
        left: 8px;
        top: 50%;
        transform: translateY(-50%);
        width: 16px;
        height: 16px;
        border: 2px solid #999;
        border-radius: 50%;
        background: white;
        transition: all 0.2s ease;
        box-sizing: border-box;
    }

    table tr.answer-choice.selected td:first-child::before {
        border-color: #1a73e8;
        border-width: 5px;
    }

    table tr.answer-choice.selected {
        background: #e8f4ff !important;
    }

    table tr.answer-choice.selected td:first-child {
        color: #1a73e8 !important;
        font-weight: 600 !important;
    }

</style>



<script>
let bionicEnabled = false;
const originalContent = {};

function toggleBionicReading(event) {
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }

    bionicEnabled = !bionicEnabled;
    const btn = document.querySelector('.bionic-reading-btn');
    const icon = document.getElementById('bionicIcon');

    if (bionicEnabled) {
        btn.classList.add('active');
        icon.textContent = '‚úÖ';
        applyBionicReading();
    } else {
        btn.classList.remove('active');
        icon.textContent = 'üëÅÔ∏è';
        restoreOriginalText();
    }
}

function applyBionicReading() {
    // Seleciona todos os elementos de texto, EXCETO summary e buttons
    const textElements = document.querySelectorAll('p:not(summary p):not(button p), td:not(summary td):not(button td), li:not(summary li):not(button li)');

    textElements.forEach((element, index) => {
        // Ignora elementos que cont√™m outros elementos complexos
        if (element.querySelector('p, td, li, h1, h2, h3, h4, h5, h6, button, summary')) {
            return;
        }

        // Ignora se o elemento est√° dentro de um summary ou button
        if (element.closest('summary') || element.closest('button') || element.closest('.bionic-reading-btn')) {
            return;
        }

        // Salva o conte√∫do original
        if (!originalContent[index]) {
            originalContent[index] = {
                element: element,
                html: element.innerHTML
            };
        }

        // Aplica Bionic Reading
        const bionicText = convertToBionic(element.textContent);
        element.innerHTML = bionicText;
    });
}

function restoreOriginalText() {
    // Restaura o conte√∫do original
    Object.values(originalContent).forEach(item => {
        item.element.innerHTML = item.html;
    });
}

function convertToBionic(text) {
    // Divide o texto em palavras, mantendo pontua√ß√£o
    const words = text.split(/(\s+|[.,;:!?()""''\-‚Äì‚Äî])/);

    const bionicWords = words.map(word => {
        // Ignora espa√ßos e pontua√ß√£o
        if (word.match(/^\s+$/) || word.match(/^[.,;:!?()""''\-‚Äì‚Äî]+$/)) {
            return word;
        }

        // Ignora palavras muito curtas (1-2 letras)
        if (word.length <= 2) {
            return word;
        }

        // Determina quantas letras deixar em negrito (metade da palavra, arredondado para cima)
        const boldLength = Math.ceil(word.length / 2);

        // Separa a parte em negrito da parte normal
        const boldPart = word.substring(0, boldLength);
        const normalPart = word.substring(boldLength);

        // Retorna com a primeira parte em negrito
        return `<strong style="font-weight: 700 !important; color: inherit !important; background: none !important; padding: 0 !important;">${boldPart}</strong>${normalPart}`;
    });

    return bionicWords.join('');
}

// Adiciona atalho de teclado (Ctrl+B ou Cmd+B)
document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
        e.preventDefault();
        toggleBionicReading();
    }
});
</script>

<script>
    let highlighterActive = false;
    let questionHighlights = {};

    // Get question ID from the first summary strong tag
    function getQuestionId() {
        const firstSummary = document.querySelector('summary strong');
        return firstSummary ? firstSummary.textContent.trim() : '1';
    }

    // Load highlights from localStorage
    function loadHighlights() {
        const questionId = getQuestionId();
        const stored = localStorage.getItem('highlights_' + questionId);
        if (stored) {
            questionHighlights = JSON.parse(stored);
            applyStoredHighlights();
        }
    }

    // Save highlights to localStorage
    function saveHighlights() {
        const questionId = getQuestionId();
        localStorage.setItem('highlights_' + questionId, JSON.stringify(questionHighlights));
    }

    // Apply stored highlights
    function applyStoredHighlights() {
        Object.keys(questionHighlights).forEach(key => {
            const element = document.querySelector(`[data-highlight-id="${key}"]`);
            if (element && questionHighlights[key]) {
                element.classList.add('highlighted');
            }
        });
    }

    // Toggle highlighter mode
    function toggleHighlighter(event) {
        event.stopPropagation();
        highlighterActive = !highlighterActive;

        const btn = event.target.closest('.highlighter-btn');
        const icon = btn.querySelector('#highlighterIcon');

        if (highlighterActive) {
            btn.classList.add('active');
            icon.textContent = 'üñçÔ∏è';
            document.body.classList.add('highlighter-mode-active');
        } else {
            btn.classList.remove('active');
            icon.textContent = 'üñäÔ∏è';
            document.body.classList.remove('highlighter-mode-active');
        }
    }

    // Clear all highlights for this question
    function clearHighlights() {
        const questionId = getQuestionId();
        questionHighlights = {};
        localStorage.removeItem('highlights_' + questionId);
        document.querySelectorAll('.highlighted').forEach(el => {
            el.classList.remove('highlighted');
        });
    }

    // Handle text selection and highlighting
    document.addEventListener('mouseup', function(e) {
        if (!highlighterActive) return;

        const selection = window.getSelection();
        if (!selection.toString().trim()) return;

        const range = selection.getRangeAt(0);
        const container = range.commonAncestorContainer;

        // Only highlight text in paragraphs, not in buttons or other elements
        const paragraph = container.nodeType === 3 ? container.parentElement : container;
        if (paragraph.tagName !== 'P' && paragraph.tagName !== 'LI' && paragraph.tagName !== 'TD') {
            return;
        }

        // Create highlight span
        const span = document.createElement('span');
        span.classList.add('highlighted');

        // Generate unique ID for this highlight
        const highlightId = 'hl-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        span.setAttribute('data-highlight-id', highlightId);

        try {
            range.surroundContents(span);
            questionHighlights[highlightId] = true;
            saveHighlights();
        } catch (e) {
            console.log('Could not highlight selection');
        }

        selection.removeAllRanges();
    });

    // Load highlights when page loads
    window.addEventListener('load', loadHighlights);

    // Keyboard shortcut: Ctrl+H to toggle highlighter
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'h') {
            e.preventDefault();
            const btn = document.querySelector('.highlighter-btn');
            if (btn) {
                toggleHighlighter({target: btn, stopPropagation: () => {}});
            }
        }
        // Ctrl+Shift+H to clear all highlights
        if (e.ctrlKey && e.shiftKey && e.key === 'H') {
            e.preventDefault();
            if (confirm('Clear all highlights for this question?')) {
                clearHighlights();
            }
        }
    });
</script>





<script>
(function() {
    // Get question ID from summary
    function getQuestionId() {
        const firstSummary = document.querySelector('summary strong');
        return firstSummary ? firstSummary.textContent.trim() : '1';
    }

    // Communicate with parent window (if in iframe)
    function notifyParent(choice) {
        if (window.parent && window.parent !== window) {
            window.parent.postMessage({
                type: 'choiceSelected',
                questionId: getQuestionId(),
                choice: choice
            }, '*');
        }
    }

    // Load saved choice from parent or localStorage
    function loadSavedChoice() {
        const questionId = getQuestionId();

        // Try to get from localStorage first
        const saved = localStorage.getItem('choice_q' + questionId);
        if (saved) {
            selectChoice(saved, false);
        }

        // Ask parent for saved choice (if in iframe)
        if (window.parent && window.parent !== window) {
            window.parent.postMessage({
                type: 'getChoice',
                questionId: questionId
            }, '*');
        }
    }

    // Listen for messages from parent
    window.addEventListener('message', function(event) {
        if (event.data.type === 'setChoice' && event.data.questionId === getQuestionId()) {
            selectChoice(event.data.choice, false);
        }
    });

    // Select a choice
    function selectChoice(choice, notify = true) {
        if (!choice) return;

        const questionId = getQuestionId();

        // Remove previous selection
        document.querySelectorAll('tr.answer-choice').forEach(row => {
            row.classList.remove('selected');
        });

        // Add selection to clicked choice
        const choiceRow = document.querySelector(`tr.answer-choice[data-choice="${choice}"]`);
        if (choiceRow) {
            choiceRow.classList.add('selected');

            // Save to localStorage
            localStorage.setItem('choice_q' + questionId, choice);

            // Notify parent (if in iframe)
            if (notify) {
                notifyParent(choice);
            }
        }
    }

    // Initialize answer choices
    function initializeChoices() {
        // Find all answer choice rows (A, B, C, D, E, F, etc.)
        const choicePattern = /^[A-Z]\.$/;
        const tables = document.querySelectorAll('table.simple-table');

        tables.forEach(table => {
            const rows = table.querySelectorAll('tr');
            rows.forEach(row => {
                const firstCell = row.querySelector('td:first-child');
                if (firstCell && choicePattern.test(firstCell.textContent.trim())) {
                    const choice = firstCell.textContent.trim().replace('.', '');
                    row.classList.add('answer-choice');
                    row.setAttribute('data-choice', choice);
                    row.style.position = 'relative';

                    // Add click handler
                    row.addEventListener('click', function(e) {
                        // Don't trigger if clicking inside a link or button
                        if (e.target.tagName === 'A' || e.target.closest('a')) return;

                        // Toggle selection
                        if (this.classList.contains('selected')) {
                            this.classList.remove('selected');
                            const questionId = getQuestionId();
                            localStorage.removeItem('choice_q' + questionId);
                            notifyParent('');
                        } else {
                            selectChoice(choice);
                        }
                    });
                }
            });
        });

        // Load saved choice after a short delay
        setTimeout(loadSavedChoice, 100);
    }

    // Run when page loads
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeChoices);
    } else {
        initializeChoices();
    }
})();
</script>
