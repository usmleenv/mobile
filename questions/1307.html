
<style>
    * {
        box-sizing: border-box !important;
    }

    body {
        font-family: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        line-height: 1.9 !important;
        color: #1f1f1f !important;
        max-width: none !important;
        margin: 0 !important;
        padding: 8px 16px 16px 16px !important;
        background: #ffffff !important;
        font-size: 16.5px !important;
    }

    p {
        margin-bottom: 20px !important;
        font-size: 16.5px !important;
        line-height: 1.95 !important;
        color: #1f1f1f !important;
        font-weight: 400 !important;
    }

    strong, b {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        background: rgba(26, 115, 232, 0.08) !important;
        padding: 2px 6px !important;
        border-radius: 8px !important;
    }

    /* Details/Summary (collapsible sections) */
    details {
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%) !important;
        border-radius: 8px !important;
        padding: 24px 28px !important;
        margin: 24px 0 !important;
        border: none;
        box-shadow: none !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }

    details:hover {
        border-color: #1a73e8 !important;
        box-shadow: none !important;
        transform: translateY(-2px) !important;
    }

    details[open] {
        background: #ffffff !important;
        border-color: #1a73e8 !important;
        box-shadow: none !important;
    }

    summary {
        cursor: pointer !important;
        font-weight: 800 !important;
        color: #ffffff !important;
        font-size: 20px !important;
        padding: 16px 24px !important;
        border-radius: 8px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        display: flex !important;
        align-items: center !important;
        user-select: none !important;
        box-shadow: none !important;
        letter-spacing: 0.5px !important;
    }

    summary:hover {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        transform: translateX(6px) scale(1.02) !important;
        box-shadow: none !important;
    }

    summary:active {
        transform: translateX(4px) scale(0.99) !important;
    }

    summary::marker {
        color: rgba(255, 255, 255, 0.9) !important;
        font-size: 1.3em !important;
    }

    summary strong {
        background: rgba(255, 255, 255, 0.2) !important;
        color: #ffffff !important;
        padding: 4px 12px !important;
        border-radius: 8px !important;
        margin-left: 8px !important;
        font-size: 19px !important;
        letter-spacing: 1px !important;
    }

    /* Tables - Premium Design */
    table {
        width: 100% !important;
        border-collapse: separate !important;
        border-spacing: 0 !important;
        margin: 28px 0 !important;
        border-radius: 8px !important;
        overflow: hidden !important;
        box-shadow: none !important;
        border: none !important;
        background: #ffffff !important;
    }

    table.simple-table {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important;
    }

    table tr {
        transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
        position: relative !important;
    }

    table tr:nth-child(odd) {
        background: rgba(248, 249, 250, 0.5) !important;
    }

    table tr:nth-child(even) {
        background: rgba(255, 255, 255, 0.8) !important;
    }

    table tr:hover {
        background: linear-gradient(90deg, #e8f0fe 0%, #f1f8ff 100%) !important;
        transform: translateX(4px) scale(1.01) !important;
        box-shadow: none !important;
        z-index: 1 !important;
    }

    table td {
        padding: 18px 24px !important;
        border-bottom: 1px solid rgba(232, 234, 237, 0.6) !important;
        font-size: 16.5px !important;
        line-height: 1.7 !important;
        color: #1f1f1f !important;
        vertical-align: middle !important;
    }

    table tr:last-child td {
        border-bottom: none !important;
    }

    /* First column (A, B, C, D, E) */
    table td:first-child {
        font-weight: 800 !important;
        color: #ffffff !important;
        width: 52px !important;
        text-align: center !important;
        font-size: 18px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        border-right: 3px solid #1557b0 !important;
        position: relative !important;
        letter-spacing: 0.5px !important;
    }

    table tr:hover td:first-child {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        box-shadow: none !important;
    }

    /* Second column (content) */
    table td:nth-child(2) {
        font-weight: 500 !important;
        padding-left: 28px !important;
    }

    /* Third column (empty - hide it) */
    table td:last-child:empty {
        display: none !important;
    }

    /* Lists */
    ul, ol {
        margin: 16px 0 !important;
        padding-left: 32px !important;
    }

    li {
        margin: 10px 0 !important;
        line-height: 1.8 !important;
        color: #1f1f1f !important;
    }

    ul.bulleted-list li {
        position: relative !important;
        padding-left: 8px !important;
    }

    ul.toggle {
        list-style: none !important;
        padding-left: 0 !important;
    }

    /* Links */
    a {
        color: #1a73e8 !important;
        text-decoration: none !important;
        font-weight: 600 !important;
        border-bottom: 2px solid transparent !important;
        transition: all 0.2s !important;
    }

    a:hover {
        border-bottom-color: #1a73e8 !important;
        background: rgba(26,115,232,0.08) !important;
        padding: 2px 4px !important;
        border-radius: 8px !important;
    }

    /* Images & Media */
    img, video {
        max-width: none !important;
        height: auto !important;
        border-radius: 8px !important;
        box-shadow: none !important;
        margin: 24px 0 !important;
        display: block !important;
        border: none !important;
    }

    img:hover, video:hover {
        box-shadow: none !important;
        border-color: #1a73e8 !important;
    }

    /* Code blocks (if any) */
    code {
        background: #f1f3f4 !important;
        padding: 2px 8px !important;
        border-radius: 8px !important;
        font-family: 'Courier New', monospace !important;
        font-size: 14px !important;
        color: #d93025 !important;
    }

    pre {
        background: #f8f9fa !important;
        padding: 8px 16px 16px 16px !important;
        border-radius: 8px !important;
        overflow-x: auto !important;
        border-left: 4px solid #1a73e8 !important;
    }

    /* Headings */
    h1, h2, h3, h4, h5, h6 {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        margin-top: 24px !important;
        margin-bottom: 16px !important;
        line-height: 1.4 !important;
    }

    h1 { font-size: 32px !important; }
    h2 { font-size: 26px !important; }
    h3 { font-size: 22px !important; }
    h4 { font-size: 19px !important; }

    /* Blockquotes */
    blockquote {
        border-left: 4px solid #1a73e8 !important;
        padding-left: 20px !important;
        margin: 20px 0 !important;
        font-style: italic !important;
        color: #5f6368 !important;
        background: #f8f9fa !important;
        padding: 16px 20px !important;
        border-radius: 8px !important;
    }

    /* Horizontal Rule */
    hr {
        border: none !important;
        height: 2px !important;
        background: linear-gradient(to right, transparent, #1a73e8, transparent) !important;
        margin: 32px 0 !important;
    }

    /* Selection */
    ::selection {
        background: #e8f0fe !important;
        color: #1a73e8 !important;
    }

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>




<details open>
<summary><strong>1307</strong><button class="bionic-reading-btn" onclick="toggleBionicReading(event)" title="Toggle Bionic Reading (Ctrl+B)"><span id="bionicIcon">üëÅÔ∏è</span></button><button class="highlighter-btn" onclick="toggleHighlighter(event)" title="Toggle Highlighter (Ctrl+H)"><span id="highlighterIcon">üñäÔ∏è</span></button></summary>
<p class="" id="8630c60a-f994-404a-8b2d-50f883de7abe">A 54-year-old man comes to the
                                        physician with recent-onset mild headaches and left leg weakness.  Numerous
                                        lesions are seen on physical examination, as shown below.</p>
<figure class="image" id="721f4de6-c999-4ed6-bdd1-b19c5a5f7b4d"><a href="https://lh7-us.googleusercontent.com/R14xO_dwHQ8oueMXFuHjj8t8zJGeIcyS4uRpoP7EI8D7UIxyazbbOdt9MQHNF-4LvATdt2BEvx6KQQBke6r8rXl5zJCK3dJIRtASH8nAPUOso_ar8E9O-LftdSOdmzpY-NZaByBYCisBpuPW41pReko"><img loading="lazy" src="https://lh7-us.googleusercontent.com/R14xO_dwHQ8oueMXFuHjj8t8zJGeIcyS4uRpoP7EI8D7UIxyazbbOdt9MQHNF-4LvATdt2BEvx6KQQBke6r8rXl5zJCK3dJIRtASH8nAPUOso_ar8E9O-LftdSOdmzpY-NZaByBYCisBpuPW41pReko" style="width:602px"/></a>
</figure>
<p class="" id="f824925a-aef1-4175-91a0-234ea2ab8124">Which of the following
                                        inheritance patterns is this patient's disorder most likely to exhibit?</p>
<table class="simple-table" id="9f1434b4-ea59-4c88-9884-214f3b1537e8">
<tbody>
<tr id="aa042ef2-f3d5-4832-a3fc-434b24517438">
<td class="" id="gryT">A.</td>
<td class="" id="BAd_">Genomic imprinting</td>
<td class="" id="=Vgc"></td>
</tr>
<tr id="1d8e54db-fb83-4251-a43b-0f6bac5a1371">
<td class="" id="gryT">B.</td>
<td class="" id="BAd_">Mitochondrial</td>
<td class="" id="=Vgc"></td>
</tr>
<tr id="37be192b-cdc8-4b8f-8d36-57535aeb1729">
<td class="" id="gryT">C.</td>
<td class="" id="BAd_">Multifactorial</td>
<td class="" id="=Vgc"></td>
</tr>
<tr id="af2e9e5d-09b8-4fd8-a69e-c08e876adbe9">
<td class="" id="gryT">D.</td>
<td class="" id="BAd_">Single-gene autosomal dominant</td>
<td class="" id="=Vgc"></td>
</tr>
<tr id="c8cc8587-4e13-49fb-8cc4-1ee4a53f57e4">
<td class="" id="gryT">E.</td>
<td class="" id="BAd_">Single-gene autosomal recessive</td>
<td class="" id="=Vgc"></td>
</tr>
<tr id="6f7a6487-18ec-455f-a293-33043ff7160f">
<td class="" id="gryT">F.</td>
<td class="" id="BAd_">Single-gene X-linked</td>
<td class="" id="=Vgc"></td>
</tr>
</tbody>
</table>
<ul class="toggle" id="8a98535d-66ab-49be-8fc6-d54cff8ee314">
<li>
<details>
<summary>Submit</summary>
<table class="simple-table" id="64cd971e-1f86-4b8c-9813-bc0d103514f1">
<tbody>
<tr id="5b7a5314-c064-41f2-82ff-70db0076fae4">
<td class="" id="TOD]">A.</td>
<td class="" id="ttkW">Genomic imprinting (1%)</td>
<td class="" id="}{ob"></td>
</tr>
<tr id="636a7582-237d-43fc-9d79-245b208665d2">
<td class="" id="TOD]">B.</td>
<td class="" id="ttkW">Mitochondrial (1%)</td>
<td class="" id="}{ob"></td>
</tr>
<tr id="fe568fd7-6df9-4bfa-9992-51f13f4c4097">
<td class="" id="TOD]">C.</td>
<td class="" id="ttkW">Multifactorial (8%)</td>
<td class="" id="}{ob"></td>
</tr>
<tr id="a7c86480-b50a-4245-9159-83fdc97a7b4e">
<td class="" id="TOD]">D.</td>
<td class="" id="ttkW">Single-gene autosomal dominant (64%)
                                                            </td>
<td class="" id="}{ob"></td>
</tr>
<tr id="83005f49-07fc-46e4-aa3f-709d28d40114">
<td class="" id="TOD]">E.</td>
<td class="" id="ttkW">Single-gene autosomal recessive (18%)
                                                            </td>
<td class="" id="}{ob"></td>
</tr>
<tr id="74f71c39-f030-44e7-a133-4005ac5e9ed8">
<td class="" id="TOD]">F.</td>
<td class="" id="ttkW">Single-gene X-linked (4%)</td>
<td class="" id="}{ob"></td>
</tr>
</tbody>
</table>
<p class="" id="4756357f-5a2e-466f-8543-e0dc81b8bf40">Incorrect</p>
<p class="" id="fa754e4b-c8db-49c1-9c52-0bf940b9f952">Correct answer D
                                                </p>
<p class="" id="8a7ffcd1-d2c6-4caa-846c-6b770f39ce09">64%Answered
                                                    correctly</p>
<p class="" id="9c757cd9-f81d-4f39-a4aa-ec8cecc35eab">19 secsTime Spent
                                                </p>
<p class="" id="bf06dffe-b8e1-4bb0-8dfc-00517b7b3d01">2024Version</p>
<ul class="bulleted-list" id="1e1dae96-af6c-42d7-9ac0-e97fc52e8bf4">
<li style="list-style-type:disc">Explanation</li>
</ul>
<ul class="bulleted-list" id="d93cf330-b3d7-4eec-a731-11dbc027ce9a">
<li style="list-style-type:disc"></li>
</ul>
<figure class="image" id="26dcaffb-c863-4c5b-9640-b85ea330ec9e"><a href="https://lh7-us.googleusercontent.com/Kv4FzUUwqggTGhaUd7rleYMyIOceVY8sHyZj1bUnFBp5c1Yasg39Yw3g-Us_CSuAnQaC3_Jkut5UbNSOp7piQdlYfLOw9QyI8jPxKeT7Qcqgi5Mo9FLo-D-sryOjxafNqp7ccUThwP51l4w6aT_kjaY"><img loading="lazy" src="https://lh7-us.googleusercontent.com/Kv4FzUUwqggTGhaUd7rleYMyIOceVY8sHyZj1bUnFBp5c1Yasg39Yw3g-Us_CSuAnQaC3_Jkut5UbNSOp7piQdlYfLOw9QyI8jPxKeT7Qcqgi5Mo9FLo-D-sryOjxafNqp7ccUThwP51l4w6aT_kjaY" style="width:602px"/></a>
</figure>
<p class="" id="1df0522f-8515-4539-a8ab-60e4ea34467f">The numerous
                                                    fleshy, dome-shaped, and pedunculated lesions are cutaneous
                                                    neurofibromas, a hallmark of neurofibromatosis type 1 (NF1).  This
                                                    condition is caused by mutations in the <em>NF1</em> gene, which is
                                                    located on chromosome 17 and has an autosomal dominant pattern of
                                                    inheritance (Choices C, E, and F).  Because the <em>NF1</em> gene
                                                    product (neurofibromin) functions as a tumor suppressor protein,
                                                    loss of expression leads to uncontrolled cellular proliferation that
                                                    affects multiple systems.</p>
<p class="" id="b7c92724-d4bc-4cbd-9602-e7df1c127a8d">NF1 has complete
                                                    penetrance‚Äîall patients who inherit the gene develop some phenotypic
                                                    traits‚Äîbut individual expression is highly variable.  The following
                                                    findings are most common, some or all of which may be present in an
                                                    individual with NF1:</p>
<ul class="bulleted-list" id="06daff0e-1484-4f57-96c8-5426ae2086a6">
<li style="list-style-type:disc">Neurofibromas: Neurofibromas are
                                                        benign peripheral nerve sheath tumors that most commonly affect
                                                        the skin and are typically multiple in number.</li>
</ul>
<ul class="bulleted-list" id="3d5d1ad8-5127-4d4d-b9cd-1c61dbe91904">
<li style="list-style-type:disc">Skin: Caf√© au lait spots are flat,
                                                        hyperpigmented macules or patches with distinct margins that
                                                        usually appear within the first year after birth. Skinfold
                                                        freckling in the axillary or inguinal regions is a highly
                                                        characteristic cutaneous feature of NF1.</li>
</ul>
<ul class="bulleted-list" id="cc8fab34-6326-4d1f-b70d-80506d2bfd92">
<li style="list-style-type:disc">Eyes: Lisch nodules are raised,
                                                        pigmented, hamartomas of the iris that do not affect vision.
                                                        Optic pathway gliomas may occur and cause visual loss.</li>
</ul>
<p class="" id="26516fdb-feb1-4418-83e8-37afe8bc23d3">Other tumors, both
                                                    benign and malignant, also develop at increased frequency in
                                                    patients with NF1.  CNS tumors (eg, astrocytoma, brainstem glioma)
                                                    may cause increased intracranial pressure and/or focal neurologic
                                                    deficits, which might explain this patient's headaches and left
                                                    leg weakness.  Patients may also have bony abnormalities (eg,
                                                    pseudoarthrosis, scoliosis) and/or neurologic disorders (eg,
                                                    learning disabilities, seizures).</p>
<p class="" id="043187b4-cdda-4e42-9542-3ae6884f5707">(Choice A)  With
                                                    genomic imprinting, only one parental gene is expressed while the
                                                    other is inactivated by epigenetic modification (eg, methylation of
                                                    DNA in the sperm or ova).  A classic example is Prader-Willi
                                                    syndrome in which gene deletions on paternal chromosome 15 result in
                                                    phenotypic abnormalities (eg, hyperphagia, obesity) despite a normal
                                                    maternally inherited gene.</p>
<p class="" id="b49d3c29-9c45-4fc4-b961-60137f0146dc">(Choice B) 
                                                    Mitochondrial inheritance is exclusively maternal and includes
                                                    several rare neuromuscular disorders typically characterized by
                                                    muscle weakness, hypotonia, and/or encephalopathy.</p>
<p class="" id="885dbd6e-2456-43dc-b608-bb55ce923523">Educational
                                                    objective:</p>
<p class="" id="23fad24e-91b8-4203-a421-9f70eafbe7cf">Neurofibromatosis
                                                    type 1 is a single-gene autosomal dominant disorder that occurs due
                                                    to mutation of the <em>NF1</em> gene located on chromosome 17. 
                                                    Cutaneous neurofibromas, caf√© au lait spots, skinfold freckling, and
                                                    Lisch nodules are the most common manifestations.</p>
<p class="" id="4c660fc9-c0de-43a5-aa6c-82af0c308254">Genetics</p>
<p class="" id="19be9062-d6ef-460f-9c6c-4915f36bb704">Subject</p>
<p class="" id="748bac9b-84f3-4c8c-b708-eae1d56a8e62">Nervous System</p>
<p class="" id="aeb54626-6807-4e96-a343-9b42dc9ddb5c">System</p>
<p class="" id="0225384a-35dc-499a-a791-97f08740a628">Neurofibromatosis
                                                </p>
<p class="" id="bab9fbfc-e7e0-47fa-a4a2-d288312d5902">Topic</p>
<p class="" id="08e82f8b-19bf-4a15-a730-216dbcd379d0">Copyright ¬©
                                                    UWorld. All rights reserved.</p>
<p class="" id="f4e6c9be-8f08-41b7-993d-9932879603d7">My Notebook</p>
<p class="" id="f0fae478-fee8-4758-bd02-d02e57b42ae9">0</p>
<p class="" id="26098c97-32b1-4655-a55b-d8af0d262644">Flashcards</p>
<p class="" id="7dfda56a-f085-4f5a-9fc4-953a61da256f">Feedback</p>
<p class="" id="a438aa8c-e8e6-4413-ab80-f7be2c051f56">Suspend</p>
<p class="" id="0418b6a0-052b-4156-a81c-b7adf82283bb">End Block</p>
<p class="" id="192767ba-049f-4d5e-bc94-8740a0340227">‚ú®Done</p>
<p class="" id="41bd3115-cf06-4a16-8ec9-c0f27bcb521e">Exhibit Display
                                                </p>
<figure class="image" id="64040fd0-9bbc-4544-bdd2-80db869aaff9"><a href="https://lh7-us.googleusercontent.com/udyhvob8WRyOwVFpiMxPoeRZg9et3Kd_W-vHO3pHnv6o_RzYE0IQmIc2rqn3SRkMT-J95jETlbwv8RoVdH_q-3ey-ae6uY00YB6I8419XNDtNzC_BqZyKKu0PDuztlWFYYpUJl_cfKDINsfOwxJdzaA"><img loading="lazy" src="https://lh7-us.googleusercontent.com/udyhvob8WRyOwVFpiMxPoeRZg9et3Kd_W-vHO3pHnv6o_RzYE0IQmIc2rqn3SRkMT-J95jETlbwv8RoVdH_q-3ey-ae6uY00YB6I8419XNDtNzC_BqZyKKu0PDuztlWFYYpUJl_cfKDINsfOwxJdzaA" style="width:602px"/></a>
</figure>
<p class="" id="ea75a34a-e9f8-4fc5-8deb-66ac994f784f">Zoom InZoom Out 
                                                    ResetNew</p>
<p class="" id="9e62ebc8-4a3c-4600-99a9-f6d946fde625">ExistingMy
                                                    Notebook</p>
<p class="" id="b5e5f332-7f9e-4f55-82f6-7607f90c37e6">Exhibit Display
                                                </p>
<figure class="image" id="54363afc-5cb7-4ecc-bee2-57ff45f88806"><a href="https://lh7-us.googleusercontent.com/b2wSsxxW5f3gSyiZaAlHjtcD1b8watF7L2z7zmjk6f-n5Xtw82tfIRaVnDgnjS_6luUEckHm0mhew2GrRlfqtHa8ZoBAMPmqFC-sB0CleXyvVDvIU_GdW86fnmqOLsOpk-fAsG_eA3IyBvXTBhDcDJA"><img loading="lazy" src="https://lh7-us.googleusercontent.com/b2wSsxxW5f3gSyiZaAlHjtcD1b8watF7L2z7zmjk6f-n5Xtw82tfIRaVnDgnjS_6luUEckHm0mhew2GrRlfqtHa8ZoBAMPmqFC-sB0CleXyvVDvIU_GdW86fnmqOLsOpk-fAsG_eA3IyBvXTBhDcDJA" style="width:602px"/></a>
</figure>
<p class="" id="e974781a-1f5f-4d86-9e75-b6dc0aa0dd5e">Zoom InZoom Out 
                                                    ResetNew</p>
<p class="" id="b0384e47-c64b-4bd7-b80e-9299ec957e92">ExistingMy
                                                    Notebook</p>
</details>
</li>
</ul>
</details>


















<style>
.bionic-reading-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s;
    margin-left: auto;
    flex-shrink: 0;
}

.bionic-reading-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    border-color: rgba(255, 255, 255, 0.5);
    transform: scale(1.1);
}

.bionic-reading-btn.active {
    background: rgba(52, 168, 83, 0.4);
    border-color: rgba(52, 168, 83, 0.6);
}

.bionic-reading-btn.active:hover {
    background: rgba(52, 168, 83, 0.5);
}

summary {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
}

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>



<script>
let bionicEnabled = false;
const originalContent = {};

function toggleBionicReading(event) {
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }

    bionicEnabled = !bionicEnabled;
    const btn = document.querySelector('.bionic-reading-btn');
    const icon = document.getElementById('bionicIcon');

    if (bionicEnabled) {
        btn.classList.add('active');
        icon.textContent = '‚úÖ';
        applyBionicReading();
    } else {
        btn.classList.remove('active');
        icon.textContent = 'üëÅÔ∏è';
        restoreOriginalText();
    }
}

function applyBionicReading() {
    // Seleciona todos os elementos de texto, EXCETO summary e buttons
    const textElements = document.querySelectorAll('p:not(summary p):not(button p), td:not(summary td):not(button td), li:not(summary li):not(button li)');

    textElements.forEach((element, index) => {
        // Ignora elementos que cont√™m outros elementos complexos
        if (element.querySelector('p, td, li, h1, h2, h3, h4, h5, h6, button, summary')) {
            return;
        }

        // Ignora se o elemento est√° dentro de um summary ou button
        if (element.closest('summary') || element.closest('button') || element.closest('.bionic-reading-btn')) {
            return;
        }

        // Salva o conte√∫do original
        if (!originalContent[index]) {
            originalContent[index] = {
                element: element,
                html: element.innerHTML
            };
        }

        // Aplica Bionic Reading
        const bionicText = convertToBionic(element.textContent);
        element.innerHTML = bionicText;
    });
}

function restoreOriginalText() {
    // Restaura o conte√∫do original
    Object.values(originalContent).forEach(item => {
        item.element.innerHTML = item.html;
    });
}

function convertToBionic(text) {
    // Divide o texto em palavras, mantendo pontua√ß√£o
    const words = text.split(/(\s+|[.,;:!?()""''\-‚Äì‚Äî])/);

    const bionicWords = words.map(word => {
        // Ignora espa√ßos e pontua√ß√£o
        if (word.match(/^\s+$/) || word.match(/^[.,;:!?()""''\-‚Äì‚Äî]+$/)) {
            return word;
        }

        // Ignora palavras muito curtas (1-2 letras)
        if (word.length <= 2) {
            return word;
        }

        // Determina quantas letras deixar em negrito (metade da palavra, arredondado para cima)
        const boldLength = Math.ceil(word.length / 2);

        // Separa a parte em negrito da parte normal
        const boldPart = word.substring(0, boldLength);
        const normalPart = word.substring(boldLength);

        // Retorna com a primeira parte em negrito
        return `<strong style="font-weight: 700 !important; color: inherit !important; background: none !important; padding: 0 !important;">${boldPart}</strong>${normalPart}`;
    });

    return bionicWords.join('');
}

// Adiciona atalho de teclado (Ctrl+B ou Cmd+B)
document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
        e.preventDefault();
        toggleBionicReading();
    }
});
</script>

<script>
    let highlighterActive = false;
    let questionHighlights = {};

    // Get question ID from the first summary strong tag
    function getQuestionId() {
        const firstSummary = document.querySelector('summary strong');
        return firstSummary ? firstSummary.textContent.trim() : '1';
    }

    // Load highlights from localStorage
    function loadHighlights() {
        const questionId = getQuestionId();
        const stored = localStorage.getItem('highlights_' + questionId);
        if (stored) {
            questionHighlights = JSON.parse(stored);
            applyStoredHighlights();
        }
    }

    // Save highlights to localStorage
    function saveHighlights() {
        const questionId = getQuestionId();
        localStorage.setItem('highlights_' + questionId, JSON.stringify(questionHighlights));
    }

    // Apply stored highlights
    function applyStoredHighlights() {
        Object.keys(questionHighlights).forEach(key => {
            const element = document.querySelector(`[data-highlight-id="${key}"]`);
            if (element && questionHighlights[key]) {
                element.classList.add('highlighted');
            }
        });
    }

    // Toggle highlighter mode
    function toggleHighlighter(event) {
        event.stopPropagation();
        highlighterActive = !highlighterActive;

        const btn = event.target.closest('.highlighter-btn');
        const icon = btn.querySelector('#highlighterIcon');

        if (highlighterActive) {
            btn.classList.add('active');
            icon.textContent = 'üñçÔ∏è';
            document.body.classList.add('highlighter-mode-active');
        } else {
            btn.classList.remove('active');
            icon.textContent = 'üñäÔ∏è';
            document.body.classList.remove('highlighter-mode-active');
        }
    }

    // Clear all highlights for this question
    function clearHighlights() {
        const questionId = getQuestionId();
        questionHighlights = {};
        localStorage.removeItem('highlights_' + questionId);
        document.querySelectorAll('.highlighted').forEach(el => {
            el.classList.remove('highlighted');
        });
    }

    // Handle text selection and highlighting
    document.addEventListener('mouseup', function(e) {
        if (!highlighterActive) return;

        const selection = window.getSelection();
        if (!selection.toString().trim()) return;

        const range = selection.getRangeAt(0);
        const container = range.commonAncestorContainer;

        // Only highlight text in paragraphs, not in buttons or other elements
        const paragraph = container.nodeType === 3 ? container.parentElement : container;
        if (paragraph.tagName !== 'P' && paragraph.tagName !== 'LI' && paragraph.tagName !== 'TD') {
            return;
        }

        // Create highlight span
        const span = document.createElement('span');
        span.classList.add('highlighted');

        // Generate unique ID for this highlight
        const highlightId = 'hl-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        span.setAttribute('data-highlight-id', highlightId);

        try {
            range.surroundContents(span);
            questionHighlights[highlightId] = true;
            saveHighlights();
        } catch (e) {
            console.log('Could not highlight selection');
        }

        selection.removeAllRanges();
    });

    // Load highlights when page loads
    window.addEventListener('load', loadHighlights);

    // Keyboard shortcut: Ctrl+H to toggle highlighter
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'h') {
            e.preventDefault();
            const btn = document.querySelector('.highlighter-btn');
            if (btn) {
                toggleHighlighter({target: btn, stopPropagation: () => {}});
            }
        }
        // Ctrl+Shift+H to clear all highlights
        if (e.ctrlKey && e.shiftKey && e.key === 'H') {
            e.preventDefault();
            if (confirm('Clear all highlights for this question?')) {
                clearHighlights();
            }
        }
    });
</script>
