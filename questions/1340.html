<style>
    * {
        box-sizing: border-box !important;
    }

    body {
        font-family: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        line-height: 1.9 !important;
        color: #1f1f1f !important;
        max-width: none !important;
        margin: 0 !important;
        padding: 8px 16px 16px 16px !important;
        background: #ffffff !important;
        font-size: 16.5px !important;
    }

    p {
        margin-bottom: 20px !important;
        font-size: 16.5px !important;
        line-height: 1.95 !important;
        color: #1f1f1f !important;
        font-weight: 400 !important;
    }

    strong, b {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        background: rgba(26, 115, 232, 0.08) !important;
        padding: 2px 6px !important;
        border-radius: 8px !important;
    }

    details {
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%) !important;
        border-radius: 8px !important;
        padding: 24px 28px !important;
        margin: 24px 0 !important;
        border: none !important;
        box-shadow: none !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }

    details:hover {
        border-color: #1a73e8 !important;
        box-shadow: none !important;
        transform: translateY(-2px) !important;
    }

    details[open] {
        background: #ffffff !important;
        border-color: #1a73e8 !important;
        box-shadow: none !important;
    }

    summary {
        cursor: pointer !important;
        font-weight: 800 !important;
        color: #ffffff !important;
        font-size: 20px !important;
        padding: 16px 24px !important;
        border-radius: 8px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        display: flex !important;
        align-items: center !important;
        user-select: none !important;
        box-shadow: none !important;
        letter-spacing: 0.5px !important;
    }

    summary:hover {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        transform: translateX(6px) scale(1.02) !important;
        box-shadow: none !important;
    }

    summary:active {
        transform: translateX(4px) scale(0.99) !important;
    }

    summary::marker {
        color: rgba(255, 255, 255, 0.9) !important;
        font-size: 1.3em !important;
    }

    summary strong {
        background: rgba(255, 255, 255, 0.2) !important;
        color: #ffffff !important;
        padding: 4px 12px !important;
        border-radius: 8px !important;
        margin-left: 8px !important;
        font-size: 19px !important;
        letter-spacing: 1px !important;
    }

    table {
        width: 100% !important;
        border-collapse: separate !important;
        border-spacing: 0 !important;
        margin: 28px 0 !important;
        border-radius: 8px !important;
        overflow: hidden !important;
        box-shadow: none !important;
        border: none !important;
        background: #ffffff !important;
    }

    table.simple-table {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important;
    }

    table tr {
        transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
        position: relative !important;
    }

    table tr:nth-child(odd) {
        background: rgba(248, 249, 250, 0.5) !important;
    }

    table tr:nth-child(even) {
        background: rgba(255, 255, 255, 0.8) !important;
    }

    table tr:hover {
        background: linear-gradient(90deg, #e8f0fe 0%, #f1f8ff 100%) !important;
        transform: translateX(4px) scale(1.01) !important;
        box-shadow: -4px 0 0 0 #1a73e8, 0 4px 12px rgba(26,115,232,0.2) !important;
        z-index: 1 !important;
    }

    table td {
        padding: 18px 24px !important;
        border-bottom: 1px solid rgba(232, 234, 237, 0.6) !important;
        font-size: 16.5px !important;
        line-height: 1.7 !important;
        color: #1f1f1f !important;
        vertical-align: middle !important;
    }

    table tr:last-child td {
        border-bottom: none !important;
    }

    table td:first-child {
        font-weight: 800 !important;
        color: #ffffff !important;
        width: 52px !important;
        text-align: center !important;
        font-size: 18px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        border-right: 3px solid #1557b0 !important;
        position: relative !important;
        letter-spacing: 0.5px !important;
    }

    table tr:hover td:first-child {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        box-shadow: 0 0 12px rgba(26,115,232,0.4) !important;
    }

    table td:nth-child(2) {
        font-weight: 500 !important;
        padding-left: 28px !important;
    }

    table td:last-child:empty {
        display: none !important;
    }

    ul, ol {
        margin: 16px 0 !important;
        padding-left: 32px !important;
    }

    li {
        margin: 10px 0 !important;
        line-height: 1.8 !important;
        color: #1f1f1f !important;
    }

    ul.bulleted-list li {
        position: relative !important;
        padding-left: 8px !important;
    }

    ul.toggle {
        list-style: none !important;
        padding-left: 0 !important;
    }

    a {
        color: #1a73e8 !important;
        text-decoration: none !important;
        font-weight: 600 !important;
        border-bottom: 2px solid transparent !important;
        transition: all 0.2s !important;
    }

    a:hover {
        border-bottom-color: #1a73e8 !important;
        background: rgba(26,115,232,0.08) !important;
        padding: 2px 4px !important;
        border-radius: 8px !important;
    }

    img, video {
        max-width: 100% !important;
        height: auto !important;
        border-radius: 8px !important;
        box-shadow: none !important;
        margin: 24px 0 !important;
        display: block !important;
        border: none !important;
    }

    img:hover, video:hover {
        box-shadow: none !important;
        border-color: #1a73e8 !important;
    }

    code {
        background: #f1f3f4 !important;
        padding: 2px 8px !important;
        border-radius: 8px !important;
        font-family: 'Courier New', monospace !important;
        font-size: 14px !important;
        color: #d93025 !important;
    }

    pre {
        background: #f8f9fa !important;
        padding: 8px 16px 16px 16px !important;
        border-radius: 8px !important;
        overflow-x: auto !important;
        border-left: 4px solid #1a73e8 !important;
    }

    h1, h2, h3, h4, h5, h6 {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        margin-top: 24px !important;
        margin-bottom: 16px !important;
        line-height: 1.4 !important;
    }

    h1 { font-size: 32px !important; }
    h2 { font-size: 26px !important; }
    h3 { font-size: 22px !important; }
    h4 { font-size: 19px !important; }

    blockquote {
        border-left: 4px solid #1a73e8 !important;
        padding-left: 20px !important;
        margin: 20px 0 !important;
        font-style: italic !important;
        color: #5f6368 !important;
        background: #f8f9fa !important;
        padding: 16px 20px !important;
        border-radius: 8px !important;
    }

    hr {
        border: none !important;
        height: 2px !important;
        background: linear-gradient(to right, transparent, #1a73e8, transparent) !important;
        margin: 32px 0 !important;
    }

    ::selection {
        background: #e8f0fe !important;
        color: #1a73e8 !important;
    }

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>

<details open>
<summary><strong>1340</strong><button class="bionic-reading-btn" onclick="toggleBionicReading(event)" title="Toggle Bionic Reading (Ctrl+B)"><span id="bionicIcon">üëÅÔ∏è</span></button><button class="highlighter-btn" onclick="toggleHighlighter(event)" title="Toggle Highlighter (Ctrl+H)"><span id="highlighterIcon">üñäÔ∏è</span></button></summary>
<p id="29a9eb21-46bc-8081-8c5e-e2e483dd59e8" class="">A 7-day-old neonate born to a 28-year-old woman is brought to the office due to progressive lethargy, vomiting, and poor feeding.¬† The mother reports an uneventful pregnancy and perinatal course.¬† She exclusively breastfeeds the infant and has no medical problems in any of her other children.¬† On examination, the infant is somnolent and dehydrated with decreased muscle tone.¬† Laboratory studies reveal metabolic acidosis with an elevated anion gap, ketosis, and hypoglycemia.¬† Further evaluation reveals a markedly elevated propionic acid level due to defective conversion of propionyl-CoA to methylmalonyl-CoA.¬† This patient is most likely unable to use which of the following amino acids for energy production?</p><table id="29a9eb21-46bc-804f-9c39-f5aee4a3ae10" class="simple-table"><tbody><tr id="29a9eb21-46bc-80d1-8f02-d64f56acddb0"><td id="rMAn" class="">A.</td><td id="?mTp" class="">Alanine</td><td id="Xo:&lt;" class=""></td></tr><tr id="29a9eb21-46bc-802c-92ad-cc2bddcbd9ae"><td id="rMAn" class="">B.</td><td id="?mTp" class="">Aspartate</td><td id="Xo:&lt;" class=""></td></tr><tr id="29a9eb21-46bc-8036-a355-f9c9c19d5f70"><td id="rMAn" class="">C.</td><td id="?mTp" class="">Glutamate</td><td id="Xo:&lt;" class=""></td></tr><tr id="29a9eb21-46bc-8061-a531-e9498f687025"><td id="rMAn" class="">D.</td><td id="?mTp" class="">Lysine</td><td id="Xo:&lt;" class=""></td></tr><tr id="29a9eb21-46bc-8044-8c2d-dba678fc1c3e"><td id="rMAn" class="">E.</td><td id="?mTp" class="">Phenylalanine</td><td id="Xo:&lt;" class=""></td></tr><tr id="29a9eb21-46bc-8097-93fb-c42137a73086"><td id="rMAn" class="">F.</td><td id="?mTp" class="">Valine</td><td id="Xo:&lt;" class=""></td></tr></tbody></table><ul id="29a9eb21-46bc-808f-9249-d619bf6ee362" class="toggle"><li><details><summary>Explanation</summary><table id="29a9eb21-46bc-807d-98b7-dec70dc7e329" class="simple-table"><tbody><tr id="29a9eb21-46bc-80f7-b342-eb25dd89b3fc"><td id="\;u=" class="">A.</td><td id="EEqe" class="">Alanine (15%)</td><td id="puSB" class=""></td></tr><tr id="29a9eb21-46bc-8074-bb28-ffd1faa27ca3"><td id="\;u=" class="">B.</td><td id="EEqe" class="">Aspartate (9%)</td><td id="puSB" class=""></td></tr><tr id="29a9eb21-46bc-80aa-87c1-e2eb1c8cce18"><td id="\;u=" class="">C.</td><td id="EEqe" class="">Glutamate (11%)</td><td id="puSB" class=""></td></tr><tr id="29a9eb21-46bc-806b-bcb8-ed9230acd7e0"><td id="\;u=" class="">D.</td><td id="EEqe" class="">Lysine (12%)</td><td id="puSB" class=""></td></tr><tr id="29a9eb21-46bc-8021-b6e0-d58e7d93d453"><td id="\;u=" class="">E.</td><td id="EEqe" class="">Phenylalanine (14%)</td><td id="puSB" class=""></td></tr><tr id="29a9eb21-46bc-8045-9535-c14a2993f8a9"><td id="\;u=" class="">F.</td><td id="EEqe" class="">Valine (36%)</td><td id="puSB" class=""></td></tr></tbody></table><p id="29a9eb21-46bc-8060-832a-ffbf011acec3" class="">Incorrect</p><p id="29a9eb21-46bc-8010-8da3-e59f4b5cb97d" class="">Correct answer F</p><p id="29a9eb21-46bc-80ee-aaac-de1a5b6e8ff9" class="">36%Answered correctly</p><p id="29a9eb21-46bc-80f5-8768-ec3dff186c0b" class="">32 secsTime Spent</p><p id="29a9eb21-46bc-8085-bda9-dad291eaaa30" class="">2024Version</p><ul id="29a9eb21-46bc-80da-a20d-c99e4727adcf" class="bulleted-list"><li style="list-style-type:disc">Explanation</li></ul><ul id="29a9eb21-46bc-804f-99fb-dc82deba7d54" class="bulleted-list"><li style="list-style-type:disc"></li></ul><figure id="29a9eb21-46bc-8080-ab58-c474659cb0ef" class="image"><a href="https://lh7-us.googleusercontent.com/hL8mpIxS4G0KuDsAYYs0Pc9OigsXnACMATdoxutsLHJbZtxv6JKyzb9x_FJlhrs-nKMX_J7dFwfhdiD8CE8Tkitjnf2Z9-j5eHSvDI2QT3MAYpKxaDE1twWDBdQmTGVGaMdJke5jiMK9SSjwf_-1YG0"><img style="width:213px" src="https://lh7-us.googleusercontent.com/hL8mpIxS4G0KuDsAYYs0Pc9OigsXnACMATdoxutsLHJbZtxv6JKyzb9x_FJlhrs-nKMX_J7dFwfhdiD8CE8Tkitjnf2Z9-j5eHSvDI2QT3MAYpKxaDE1twWDBdQmTGVGaMdJke5jiMK9SSjwf_-1YG0"/></a></figure><p id="29a9eb21-46bc-8003-99b7-f9daa9e62a02" class="">Catabolism of several essential amino acids (valine, isoleucine, methionine, and threonine) along with odd-chain fatty acids results in the generation of propionyl-CoA.¬† Propionyl-CoA is subsequently converted to methylmalonyl-CoA in a reaction catalyzed by biotin-dependent propionyl-CoA carboxylase.¬† Isomerization of methylmalonyl-CoA then generates succinyl-CoA, which enters the TCA cycle.</p><p id="29a9eb21-46bc-809e-b388-f7bbe99c161a" class="">This patient&#x27;s presentation is consistent with propionic acidemia, an autosomal recessive organic acidemia caused by congenital deficiency of propionyl-CoA carboxylase.¬† This enzyme catalyzes the conversion of propionyl-CoA to methylmalonyl-CoA.¬† In its absence, excess propionic acid accumulates in the bloodstream, causing severe metabolic acidosis.¬† Hypoglycemia and ketosis frequently develop secondary to the acidosis.¬† Affected patients present 1-2 weeks after birth with lethargy, poor feeding, vomiting, and hypotonia.¬† Treatment involves starting a low-protein diet containing minimal amounts of valine, isoleucine, methionine, and threonine.</p><p id="29a9eb21-46bc-80e3-8691-ee17c56c67db" class="">(Choice A)¬† Alanine transaminase catalyzes the transfer of an amino group from alanine to Œ±-ketoglutarate, generating pyruvate that can be used for gluconeogenesis.</p><p id="29a9eb21-46bc-80c6-83ee-c0b201d51dac" class="">(Choice B)¬† Aspartate is a nonessential amino acid; it can be converted into oxaloacetate for use in the TCA cycle by aspartate transaminase.</p><p id="29a9eb21-46bc-8001-a7c3-f938ff4aa974" class="">(Choice C)¬† Glutamate is deaminated by glutamate dehydrogenase to form the TCA cycle intermediate Œ±-ketoglutarate.</p><p id="29a9eb21-46bc-80c4-b17d-e210e5e8c00d" class="">(Choice D)¬† Lysine and leucine are essential amino acids that are strictly ketogenic.¬† They are metabolized into acetyl-CoA, which is a precursor for ketone bodies.</p><p id="29a9eb21-46bc-80c3-a9b8-d4f7773c0561" class="">(Choice E)¬† Phenylalanine is converted to tyrosine by the enzyme phenylalanine hydroxylase.¬† Tyrosine is further converted into fumarate (TCA cycle intermediate) and acetoacetate (ketone body).</p><p id="29a9eb21-46bc-80c4-bb76-eb3c2cca8f77" class="">Educational objective:</p><p id="29a9eb21-46bc-8086-aa54-fa86b99d6db6" class="">Propionyl-CoA is derived from the metabolism of valine, isoleucine, methionine, threonine, and odd-chain fatty acids.¬† Congenital deficiency of propionyl-CoA carboxylase, the enzyme responsible for the conversion of propionyl-CoA to methylmalonyl-CoA, leads to the development of propionic acidemia.¬† The condition presents with lethargy, poor feeding, vomiting, and hypotonia 1-2 weeks after birth.</p><p id="29a9eb21-46bc-8028-84e2-dd8be9c505c1" class="">Biochemistry</p><p id="29a9eb21-46bc-8013-927a-cc2e6db21c77" class="">Subject</p><p id="29a9eb21-46bc-80ae-87dd-d94c7e8a4c5e" class="">Biochemistry (General Principles)</p><p id="29a9eb21-46bc-8062-bac3-ebfd77354b0f" class="">System</p><p id="29a9eb21-46bc-809c-8661-ecfd544d9a49" class="">Organic acidemias</p><p id="29a9eb21-46bc-80da-b88d-cc990f5ddf2c" class="">Topic</p><p id="29a9eb21-46bc-8034-ae54-e66b7ab6b7d5" class="">Copyright ¬© UWorld. All rights reserved.</p>
</details>






<style>
.bionic-reading-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s;
    margin-left: auto;
    flex-shrink: 0;
}

.bionic-reading-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    border-color: rgba(255, 255, 255, 0.5);
    transform: scale(1.1);
}

.bionic-reading-btn.active {
    background: rgba(52, 168, 83, 0.4);
    border-color: rgba(52, 168, 83, 0.6);
}

.bionic-reading-btn.active:hover {
    background: rgba(52, 168, 83, 0.5);
}

summary {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
}

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>



<script>
let bionicEnabled = false;
const originalContent = {};

function toggleBionicReading(event) {
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }

    bionicEnabled = !bionicEnabled;
    const btn = document.querySelector('.bionic-reading-btn');
    const icon = document.getElementById('bionicIcon');

    if (bionicEnabled) {
        btn.classList.add('active');
        icon.textContent = '‚úÖ';
        applyBionicReading();
    } else {
        btn.classList.remove('active');
        icon.textContent = 'üëÅÔ∏è';
        restoreOriginalText();
    }
}

function applyBionicReading() {
    // Seleciona todos os elementos de texto, EXCETO summary e buttons
    const textElements = document.querySelectorAll('p:not(summary p):not(button p), td:not(summary td):not(button td), li:not(summary li):not(button li)');

    textElements.forEach((element, index) => {
        // Ignora elementos que cont√™m outros elementos complexos
        if (element.querySelector('p, td, li, h1, h2, h3, h4, h5, h6, button, summary')) {
            return;
        }

        // Ignora se o elemento est√° dentro de um summary ou button
        if (element.closest('summary') || element.closest('button') || element.closest('.bionic-reading-btn')) {
            return;
        }

        // Salva o conte√∫do original
        if (!originalContent[index]) {
            originalContent[index] = {
                element: element,
                html: element.innerHTML
            };
        }

        // Aplica Bionic Reading
        const bionicText = convertToBionic(element.textContent);
        element.innerHTML = bionicText;
    });
}

function restoreOriginalText() {
    // Restaura o conte√∫do original
    Object.values(originalContent).forEach(item => {
        item.element.innerHTML = item.html;
    });
}

function convertToBionic(text) {
    // Divide o texto em palavras, mantendo pontua√ß√£o
    const words = text.split(/(\s+|[.,;:!?()""''\-‚Äì‚Äî])/);

    const bionicWords = words.map(word => {
        // Ignora espa√ßos e pontua√ß√£o
        if (word.match(/^\s+$/) || word.match(/^[.,;:!?()""''\-‚Äì‚Äî]+$/)) {
            return word;
        }

        // Ignora palavras muito curtas (1-2 letras)
        if (word.length <= 2) {
            return word;
        }

        // Determina quantas letras deixar em negrito (metade da palavra, arredondado para cima)
        const boldLength = Math.ceil(word.length / 2);

        // Separa a parte em negrito da parte normal
        const boldPart = word.substring(0, boldLength);
        const normalPart = word.substring(boldLength);

        // Retorna com a primeira parte em negrito
        return `<strong style="font-weight: 700 !important; color: inherit !important; background: none !important; padding: 0 !important;">${boldPart}</strong>${normalPart}`;
    });

    return bionicWords.join('');
}

// Adiciona atalho de teclado (Ctrl+B ou Cmd+B)
document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
        e.preventDefault();
        toggleBionicReading();
    }
});
</script>

<script>
    let highlighterActive = false;
    let questionHighlights = {};

    // Get question ID from the first summary strong tag
    function getQuestionId() {
        const firstSummary = document.querySelector('summary strong');
        return firstSummary ? firstSummary.textContent.trim() : '1';
    }

    // Load highlights from localStorage
    function loadHighlights() {
        const questionId = getQuestionId();
        const stored = localStorage.getItem('highlights_' + questionId);
        if (stored) {
            questionHighlights = JSON.parse(stored);
            applyStoredHighlights();
        }
    }

    // Save highlights to localStorage
    function saveHighlights() {
        const questionId = getQuestionId();
        localStorage.setItem('highlights_' + questionId, JSON.stringify(questionHighlights));
    }

    // Apply stored highlights
    function applyStoredHighlights() {
        Object.keys(questionHighlights).forEach(key => {
            const element = document.querySelector(`[data-highlight-id="${key}"]`);
            if (element && questionHighlights[key]) {
                element.classList.add('highlighted');
            }
        });
    }

    // Toggle highlighter mode
    function toggleHighlighter(event) {
        event.stopPropagation();
        highlighterActive = !highlighterActive;

        const btn = event.target.closest('.highlighter-btn');
        const icon = btn.querySelector('#highlighterIcon');

        if (highlighterActive) {
            btn.classList.add('active');
            icon.textContent = 'üñçÔ∏è';
            document.body.classList.add('highlighter-mode-active');
        } else {
            btn.classList.remove('active');
            icon.textContent = 'üñäÔ∏è';
            document.body.classList.remove('highlighter-mode-active');
        }
    }

    // Clear all highlights for this question
    function clearHighlights() {
        const questionId = getQuestionId();
        questionHighlights = {};
        localStorage.removeItem('highlights_' + questionId);
        document.querySelectorAll('.highlighted').forEach(el => {
            el.classList.remove('highlighted');
        });
    }

    // Handle text selection and highlighting
    document.addEventListener('mouseup', function(e) {
        if (!highlighterActive) return;

        const selection = window.getSelection();
        if (!selection.toString().trim()) return;

        const range = selection.getRangeAt(0);
        const container = range.commonAncestorContainer;

        // Only highlight text in paragraphs, not in buttons or other elements
        const paragraph = container.nodeType === 3 ? container.parentElement : container;
        if (paragraph.tagName !== 'P' && paragraph.tagName !== 'LI' && paragraph.tagName !== 'TD') {
            return;
        }

        // Create highlight span
        const span = document.createElement('span');
        span.classList.add('highlighted');

        // Generate unique ID for this highlight
        const highlightId = 'hl-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        span.setAttribute('data-highlight-id', highlightId);

        try {
            range.surroundContents(span);
            questionHighlights[highlightId] = true;
            saveHighlights();
        } catch (e) {
            console.log('Could not highlight selection');
        }

        selection.removeAllRanges();
    });

    // Load highlights when page loads
    window.addEventListener('load', loadHighlights);

    // Keyboard shortcut: Ctrl+H to toggle highlighter
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'h') {
            e.preventDefault();
            const btn = document.querySelector('.highlighter-btn');
            if (btn) {
                toggleHighlighter({target: btn, stopPropagation: () => {}});
            }
        }
        // Ctrl+Shift+H to clear all highlights
        if (e.ctrlKey && e.shiftKey && e.key === 'H') {
            e.preventDefault();
            if (confirm('Clear all highlights for this question?')) {
                clearHighlights();
            }
        }
    });
</script>
