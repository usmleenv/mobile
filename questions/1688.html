
<style>
    * {
        box-sizing: border-box !important;
    }

    body {
        font-family: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        line-height: 1.9 !important;
        color: #1f1f1f !important;
        max-width: none !important;
        margin: 0 !important;
        padding: 8px 16px 16px 16px !important;
        background: #ffffff !important;
        font-size: 16.5px !important;
    }

    p {
        margin-bottom: 20px !important;
        font-size: 16.5px !important;
        line-height: 1.95 !important;
        color: #1f1f1f !important;
        font-weight: 400 !important;
    }

    strong, b {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        background: rgba(26, 115, 232, 0.08) !important;
        padding: 2px 6px !important;
        border-radius: 8px !important;
    }

    /* Details/Summary (collapsible sections) */
    details {
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%) !important;
        border-radius: 8px !important;
        padding: 24px 28px !important;
        margin: 24px 0 !important;
        border: none;
        box-shadow: none !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }

    details:hover {
        border-color: #1a73e8 !important;
        box-shadow: none !important;
        transform: translateY(-2px) !important;
    }

    details[open] {
        background: #ffffff !important;
        border-color: #1a73e8 !important;
        box-shadow: none !important;
    }

    summary {
        cursor: pointer !important;
        font-weight: 800 !important;
        color: #ffffff !important;
        font-size: 20px !important;
        padding: 16px 24px !important;
        border-radius: 8px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        display: flex !important;
        align-items: center !important;
        user-select: none !important;
        box-shadow: none !important;
        letter-spacing: 0.5px !important;
    }

    summary:hover {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        transform: translateX(6px) scale(1.02) !important;
        box-shadow: none !important;
    }

    summary:active {
        transform: translateX(4px) scale(0.99) !important;
    }

    summary::marker {
        color: rgba(255, 255, 255, 0.9) !important;
        font-size: 1.3em !important;
    }

    summary strong {
        background: rgba(255, 255, 255, 0.2) !important;
        color: #ffffff !important;
        padding: 4px 12px !important;
        border-radius: 8px !important;
        margin-left: 8px !important;
        font-size: 19px !important;
        letter-spacing: 1px !important;
    }

    /* Tables - Premium Design */
    table {
        width: 100% !important;
        border-collapse: separate !important;
        border-spacing: 0 !important;
        margin: 28px 0 !important;
        border-radius: 8px !important;
        overflow: hidden !important;
        box-shadow: none !important;
        border: none !important;
        background: #ffffff !important;
    }

    table.simple-table {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important;
    }

    table tr {
        transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
        position: relative !important;
    }

    table tr:nth-child(odd) {
        background: rgba(248, 249, 250, 0.5) !important;
    }

    table tr:nth-child(even) {
        background: rgba(255, 255, 255, 0.8) !important;
    }

    table tr:hover {
        background: linear-gradient(90deg, #e8f0fe 0%, #f1f8ff 100%) !important;
        transform: translateX(4px) scale(1.01) !important;
        box-shadow: none !important;
        z-index: 1 !important;
    }

    table td {
        padding: 18px 24px !important;
        border-bottom: 1px solid rgba(232, 234, 237, 0.6) !important;
        font-size: 16.5px !important;
        line-height: 1.7 !important;
        color: #1f1f1f !important;
        vertical-align: middle !important;
    }

    table tr:last-child td {
        border-bottom: none !important;
    }

    /* First column (A, B, C, D, E) */
    table td:first-child {
        font-weight: 800 !important;
        color: #ffffff !important;
        width: 52px !important;
        text-align: center !important;
        font-size: 18px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        border-right: 3px solid #1557b0 !important;
        position: relative !important;
        letter-spacing: 0.5px !important;
    }

    table tr:hover td:first-child {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        box-shadow: none !important;
    }

    /* Second column (content) */
    table td:nth-child(2) {
        font-weight: 500 !important;
        padding-left: 28px !important;
    }

    /* Third column (empty - hide it) */
    table td:last-child:empty {
        display: none !important;
    }

    /* Lists */
    ul, ol {
        margin: 16px 0 !important;
        padding-left: 32px !important;
    }

    li {
        margin: 10px 0 !important;
        line-height: 1.8 !important;
        color: #1f1f1f !important;
    }

    ul.bulleted-list li {
        position: relative !important;
        padding-left: 8px !important;
    }

    ul.toggle {
        list-style: none !important;
        padding-left: 0 !important;
    }

    /* Links */
    a {
        color: #1a73e8 !important;
        text-decoration: none !important;
        font-weight: 600 !important;
        border-bottom: 2px solid transparent !important;
        transition: all 0.2s !important;
    }

    a:hover {
        border-bottom-color: #1a73e8 !important;
        background: rgba(26,115,232,0.08) !important;
        padding: 2px 4px !important;
        border-radius: 8px !important;
    }

    /* Images & Media */
    img, video {
        max-width: none !important;
        height: auto !important;
        border-radius: 8px !important;
        box-shadow: none !important;
        margin: 24px 0 !important;
        display: block !important;
        border: none !important;
    }

    img:hover, video:hover {
        box-shadow: none !important;
        border-color: #1a73e8 !important;
    }

    /* Code blocks (if any) */
    code {
        background: #f1f3f4 !important;
        padding: 2px 8px !important;
        border-radius: 8px !important;
        font-family: 'Courier New', monospace !important;
        font-size: 14px !important;
        color: #d93025 !important;
    }

    pre {
        background: #f8f9fa !important;
        padding: 8px 16px 16px 16px !important;
        border-radius: 8px !important;
        overflow-x: auto !important;
        border-left: 4px solid #1a73e8 !important;
    }

    /* Headings */
    h1, h2, h3, h4, h5, h6 {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        margin-top: 24px !important;
        margin-bottom: 16px !important;
        line-height: 1.4 !important;
    }

    h1 { font-size: 32px !important; }
    h2 { font-size: 26px !important; }
    h3 { font-size: 22px !important; }
    h4 { font-size: 19px !important; }

    /* Blockquotes */
    blockquote {
        border-left: 4px solid #1a73e8 !important;
        padding-left: 20px !important;
        margin: 20px 0 !important;
        font-style: italic !important;
        color: #5f6368 !important;
        background: #f8f9fa !important;
        padding: 16px 20px !important;
        border-radius: 8px !important;
    }

    /* Horizontal Rule */
    hr {
        border: none !important;
        height: 2px !important;
        background: linear-gradient(to right, transparent, #1a73e8, transparent) !important;
        margin: 32px 0 !important;
    }

    /* Selection */
    ::selection {
        background: #e8f0fe !important;
        color: #1a73e8 !important;
    }

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>




<details open>
<summary><strong>1688</strong><button class="bionic-reading-btn" onclick="toggleBionicReading(event)" title="Toggle Bionic Reading (Ctrl+B)"><span id="bionicIcon">üëÅÔ∏è</span></button><button class="highlighter-btn" onclick="toggleHighlighter(event)" title="Toggle Highlighter (Ctrl+H)"><span id="highlighterIcon">üñäÔ∏è</span></button></summary>
<p class="" id="83c87680-ee3d-46bc-a21a-cfe9eafc457c">A healthy, nulliparous
                                        29-year-old woman with regular 28-day cycles comes to the office for a fertility
                                        evaluation.  Over the past year, she and her 30-year-old husband have been
                                        trying to conceive.  Her only medications are prenatal vitamins.  She tracks her
                                        periods, cervical mucus, basal temperature, and intercourse with a smartphone
                                        app.  The couple has intercourse every other day from cycle day 8 through the LH
                                        surge.  The patient's urine pregnancy test is positive.  The oocyte was
                                        most likely arrested in which of the following stages of meiosis immediately
                                        prior to fertilization?</p>
<table class="simple-table" id="98fab86c-321b-4124-b5ff-bf18589f2e59">
<tbody>
<tr id="482e8b4b-7bdb-43d6-8427-c9a1fca87108">
<td class="" id="UH[t">A.</td>
<td class="" id="Wo{e">Metaphase of meiosis I</td>
<td class="" id="u:SI"></td>
</tr>
<tr id="9f28a070-c549-499b-baab-aa1a7a4e4955">
<td class="" id="UH[t">B.</td>
<td class="" id="Wo{e">Metaphase of meiosis II</td>
<td class="" id="u:SI"></td>
</tr>
<tr id="ed36d2e7-dc45-4a24-b686-82ab01be8e30">
<td class="" id="UH[t">C.</td>
<td class="" id="Wo{e">Prophase of meiosis I</td>
<td class="" id="u:SI"></td>
</tr>
<tr id="cb97fdf7-4330-41db-8978-e6dae9ba2df9">
<td class="" id="UH[t">D.</td>
<td class="" id="Wo{e">Prophase of meiosis II</td>
<td class="" id="u:SI"></td>
</tr>
<tr id="44878e1c-c8a9-4074-b000-1e4e97501bee">
<td class="" id="UH[t">E.</td>
<td class="" id="Wo{e">Telophase of meiosis I</td>
<td class="" id="u:SI"></td>
</tr>
<tr id="c248841b-b9ae-4260-8bd3-3b5183acda62">
<td class="" id="UH[t">F.</td>
<td class="" id="Wo{e">Telophase of meiosis II</td>
<td class="" id="u:SI"></td>
</tr>
</tbody>
</table>
<ul class="toggle" id="6b5680f2-359a-491b-85e9-ac4e768e9e44">
<li>
<details>
<summary>Submit</summary>
<table class="simple-table" id="1729091d-194b-4d9c-a5eb-690549582321">
<tbody>
<tr id="ed4c0215-9a93-4ad8-b80a-386e5c2c6254">
<td class="" id="Smk}">A.</td>
<td class="" id="uA{{">Metaphase of meiosis I (7%)</td>
<td class="" id="OX:o"></td>
</tr>
<tr id="3ee0a5b6-cf52-4592-9719-4b0cb3f4c3a3">
<td class="" id="Smk}">B.</td>
<td class="" id="uA{{">Metaphase of meiosis II (61%)</td>
<td class="" id="OX:o"></td>
</tr>
<tr id="fc277302-df70-448e-a55e-4785105f1387">
<td class="" id="Smk}">C.</td>
<td class="" id="uA{{">Prophase of meiosis I (11%)</td>
<td class="" id="OX:o"></td>
</tr>
<tr id="38b35de7-b1dd-4782-808e-2130373e843e">
<td class="" id="Smk}">D.</td>
<td class="" id="uA{{">Prophase of meiosis II (16%)</td>
<td class="" id="OX:o"></td>
</tr>
<tr id="f054aa82-9455-4184-b8a4-ed853fd4cc0b">
<td class="" id="Smk}">E.</td>
<td class="" id="uA{{">Telophase of meiosis I (1%)</td>
<td class="" id="OX:o"></td>
</tr>
<tr id="010548a1-ed99-4f08-931a-6449b3c7aed0">
<td class="" id="Smk}">F.</td>
<td class="" id="uA{{">Telophase of meiosis II (1%)</td>
<td class="" id="OX:o"></td>
</tr>
</tbody>
</table>
<p class="" id="deb789be-7984-4bde-9798-64fa1d09accc">Incorrect</p>
<p class="" id="647bcf25-0309-46f7-bd62-d0bee0de6574">Correct answer B
                                                </p>
<p class="" id="68614c14-2f3e-4d40-ba52-a7668b4db794">61%Answered
                                                    correctly</p>
<p class="" id="bca36c10-e6b2-46c8-9db3-a98bf899b7d5">11 secsTime Spent
                                                </p>
<p class="" id="f888ab56-262f-4c1c-b9d0-add1f6107d98">2024Version</p>
<ul class="bulleted-list" id="5f16a9dd-96b0-424a-b14e-34a54ce21c42">
<li style="list-style-type:disc">Explanation</li>
</ul>
<ul class="bulleted-list" id="cc202010-e18b-4ad1-ae6d-5eecbc4edf21">
<li style="list-style-type:disc"></li>
</ul>
<figure class="image" id="23caf571-ac03-41bc-a0e4-f130b016564e"><a href="https://lh7-us.googleusercontent.com/XPzKylNmkSh0ctJpWk9AkJeQscxepPtivSV-UJISx2ZXcN3IFF-RZy8jrjlBxGrmHBaEgcxYebuRDXExQIyGOl6IXm9bOSEa4HNtZ_teCmJaoUn_gs69X5ylueuaB_UB2vyPxj1cye9T6eJfvGUGSvo"><img loading="lazy" src="https://lh7-us.googleusercontent.com/XPzKylNmkSh0ctJpWk9AkJeQscxepPtivSV-UJISx2ZXcN3IFF-RZy8jrjlBxGrmHBaEgcxYebuRDXExQIyGOl6IXm9bOSEa4HNtZ_teCmJaoUn_gs69X5ylueuaB_UB2vyPxj1cye9T6eJfvGUGSvo" style="width:602px"/></a>
</figure>
<p class="" id="78c36d48-dc9b-4bd3-9b66-3dd37ca19ad6">Female
                                                    gametogenesis begins in utero at approximately 4 weeks gestation
                                                    when primordial germ cells migrate from the yolk sac region to the
                                                    developing gonadal region.  These germ cells then differentiate into
                                                    oogonia and multiply by mitosis before beginning meiosis I.  Now
                                                    called primary oocytes, these cells arrest in prophase of meiosis I
                                                    (Choice C) and remain there until ovulation.  The chromosome pairs
                                                    are arranged in a tetrad during this phase, and their proximity
                                                    allows for genetic recombination.  The full complement of oocytes is
                                                    developed by 5 months gestation and then degenerates during the
                                                    woman's lifetime until depleted at menopause.</p>
<p class="" id="01d8c4aa-e612-4a9f-a23f-f5a6888bfb7c">At puberty,
                                                    ovulatory cycles begin and the female is capable of reproduction. 
                                                    During each menstrual cycle, FSH stimulation followed by an LH surge
                                                    causes some oocytes to resume meiosis I.  Telophase I (Choice E) is
                                                    the last phase of meiosis I and yields secondary oocytes and polar
                                                    bodies.  The secondary oocyte begins meiosis II (the polar body
                                                    degenerates) but halts in metaphase II.  Approximately 36 hours
                                                    after LH levels begin to rise, a secondary oocyte is released from
                                                    the ovarian follicle.  The secondary oocyte remains frozen in
                                                    metaphase II until fertilization occurs, at which point it completes
                                                    its division (telophase II, Choice F) into a mature oocyte (ovum)
                                                    and second polar body.  A normally fertilized embryo is then diploid
                                                    due to genetic contribution from both the ovum and sperm pronuclei.
                                                </p>
<p class="" id="9977b5c0-15a3-485b-837e-6cf19ec3d5ad">(Choice A) 
                                                    Metaphase of meiosis I differs from metaphase of meiosis II and
                                                    mitosis, as the spindles are not preparing to split the
                                                    centromeres.  Instead, the tetrads are lined up along the metaphase
                                                    plate, and during anaphase the homologs separate from each other
                                                    with the centromeres intact.</p>
<p class="" id="82b3ab13-7dc6-4ba5-98ec-2c3ecc2b6852">(Choice D) 
                                                    Prophase of meiosis II is unique as it does not immediately follow a
                                                    period of DNA synthesis; DNA was duplicated prior to prophase of
                                                    meiosis I.</p>
<p class="" id="7d6aece8-4565-44f8-8999-d3a182ab1ab8">Educational
                                                    objective:</p>
<p class="" id="022ac2b4-7eaa-4656-ad2c-90157b84f4b7">Primary oocytes
                                                    are completely developed in female fetuses by the fifth month of
                                                    gestation, at which point they are arrested in prophase of meiosis
                                                    I.  After puberty, menstrual cycle hormones stimulate the primary
                                                    oocyte to resume differentiation.  Prior to fertilization, secondary
                                                    oocytes are arrested in metaphase of meiosis II.</p>
<p class="" id="e5e2ac92-bc2b-48c2-b791-c57b4a4c7cd4">References</p>
<ul class="bulleted-list" id="1194c86e-06cc-45cf-b45f-170e20fb6317">
<li style="list-style-type:disc"><a href="http://www.ncbi.nlm.nih.gov/pubmed/25744083">Oocyte
                                                            maturation: gamete-somatic cells interactions, meiotic
                                                            resumption, cytoskeletal dynamics and cytoplasmic
                                                            reorganization.</a></li>
</ul>
<p class="" id="87de477f-3325-4d9f-880f-8b819814b564">Genetics</p>
<p class="" id="63d676fa-3921-47c3-b549-b634637976d3">Subject</p>
<p class="" id="801240a1-4d5f-41a6-8d9b-b5e5cefc876f">Pregnancy,
                                                    Childbirth &amp; Puerperium</p>
<p class="" id="197edb57-b88e-4240-9ee8-925880e93f9e">System</p>
<p class="" id="fa1c5e3b-629e-487f-89cb-c711037ff363">Embryologic
                                                    derivatives</p>
<p class="" id="29e02538-05e2-49a4-bb36-137b8b46e116">Topic</p>
<p class="" id="c52cd39d-5a73-41db-bb48-18526b75dc51">Copyright ¬©
                                                    UWorld. All rights reserved.</p>
<p class="" id="104c72ed-e625-4d49-8ee2-595121eb57fa">My Notebook</p>
<p class="" id="2b9a0cca-a0d3-44db-bf1c-481f39d1975c">0</p>
<p class="" id="fc4b28e9-ba15-4fce-8023-5541ff88686b">Flashcards</p>
<p class="" id="57e8b39e-d841-40e8-a867-89c1e2418f7a">Feedback</p>
<p class="" id="04f6d1a4-27af-429e-9029-2614445e439c">Suspend</p>
<p class="" id="395a02e3-fc79-45f2-b9f3-d983b7ed17ca">End Block</p>
<p class="" id="47cd050b-1e39-4aca-af6d-7a3b98051eca">‚ú®Done</p>
<p class="" id="4c213a27-6c8a-4527-86f5-b2ce24b934bf">Exhibit Display
                                                </p>
<figure class="image" id="78167e3b-f528-49c2-8a86-b79cad7d2435"><a href="https://lh7-us.googleusercontent.com/5w-t93-F8OC-p6W7we5k2fCYeulq6EKMuCva6XU8ZkNMH4xEmZLY6CUsENhAgEO3kCqktd3_ZfsIEOtq-UAXXSbD9fYURDrJZNHHy5OMMma6k3wdoBwXdbfz9YU6DLJ9qM5jHNV5tmjo_IpfEPbIxTA"><img loading="lazy" src="https://lh7-us.googleusercontent.com/5w-t93-F8OC-p6W7we5k2fCYeulq6EKMuCva6XU8ZkNMH4xEmZLY6CUsENhAgEO3kCqktd3_ZfsIEOtq-UAXXSbD9fYURDrJZNHHy5OMMma6k3wdoBwXdbfz9YU6DLJ9qM5jHNV5tmjo_IpfEPbIxTA" style="width:602px"/></a>
</figure>
<p class="" id="038c7f63-e149-41ed-88b6-9ae8ba27087b">Zoom InZoom Out 
                                                    ResetNew</p>
<p class="" id="58190c00-c0c7-4ce8-8257-a6500c40b9d1">ExistingMy
                                                    Notebook</p>
</details>
</li>
</ul>
</details>


















<style>
.bionic-reading-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s;
    margin-left: auto;
    flex-shrink: 0;
}

.bionic-reading-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    border-color: rgba(255, 255, 255, 0.5);
    transform: scale(1.1);
}

.bionic-reading-btn.active {
    background: rgba(52, 168, 83, 0.4);
    border-color: rgba(52, 168, 83, 0.6);
}

.bionic-reading-btn.active:hover {
    background: rgba(52, 168, 83, 0.5);
}

summary {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
}

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>



<script>
let bionicEnabled = false;
const originalContent = {};

function toggleBionicReading(event) {
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }

    bionicEnabled = !bionicEnabled;
    const btn = document.querySelector('.bionic-reading-btn');
    const icon = document.getElementById('bionicIcon');

    if (bionicEnabled) {
        btn.classList.add('active');
        icon.textContent = '‚úÖ';
        applyBionicReading();
    } else {
        btn.classList.remove('active');
        icon.textContent = 'üëÅÔ∏è';
        restoreOriginalText();
    }
}

function applyBionicReading() {
    // Seleciona todos os elementos de texto, EXCETO summary e buttons
    const textElements = document.querySelectorAll('p:not(summary p):not(button p), td:not(summary td):not(button td), li:not(summary li):not(button li)');

    textElements.forEach((element, index) => {
        // Ignora elementos que cont√™m outros elementos complexos
        if (element.querySelector('p, td, li, h1, h2, h3, h4, h5, h6, button, summary')) {
            return;
        }

        // Ignora se o elemento est√° dentro de um summary ou button
        if (element.closest('summary') || element.closest('button') || element.closest('.bionic-reading-btn')) {
            return;
        }

        // Salva o conte√∫do original
        if (!originalContent[index]) {
            originalContent[index] = {
                element: element,
                html: element.innerHTML
            };
        }

        // Aplica Bionic Reading
        const bionicText = convertToBionic(element.textContent);
        element.innerHTML = bionicText;
    });
}

function restoreOriginalText() {
    // Restaura o conte√∫do original
    Object.values(originalContent).forEach(item => {
        item.element.innerHTML = item.html;
    });
}

function convertToBionic(text) {
    // Divide o texto em palavras, mantendo pontua√ß√£o
    const words = text.split(/(\s+|[.,;:!?()""''\-‚Äì‚Äî])/);

    const bionicWords = words.map(word => {
        // Ignora espa√ßos e pontua√ß√£o
        if (word.match(/^\s+$/) || word.match(/^[.,;:!?()""''\-‚Äì‚Äî]+$/)) {
            return word;
        }

        // Ignora palavras muito curtas (1-2 letras)
        if (word.length <= 2) {
            return word;
        }

        // Determina quantas letras deixar em negrito (metade da palavra, arredondado para cima)
        const boldLength = Math.ceil(word.length / 2);

        // Separa a parte em negrito da parte normal
        const boldPart = word.substring(0, boldLength);
        const normalPart = word.substring(boldLength);

        // Retorna com a primeira parte em negrito
        return `<strong style="font-weight: 700 !important; color: inherit !important; background: none !important; padding: 0 !important;">${boldPart}</strong>${normalPart}`;
    });

    return bionicWords.join('');
}

// Adiciona atalho de teclado (Ctrl+B ou Cmd+B)
document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
        e.preventDefault();
        toggleBionicReading();
    }
});
</script>

<script>
    let highlighterActive = false;
    let questionHighlights = {};

    // Get question ID from the first summary strong tag
    function getQuestionId() {
        const firstSummary = document.querySelector('summary strong');
        return firstSummary ? firstSummary.textContent.trim() : '1';
    }

    // Load highlights from localStorage
    function loadHighlights() {
        const questionId = getQuestionId();
        const stored = localStorage.getItem('highlights_' + questionId);
        if (stored) {
            questionHighlights = JSON.parse(stored);
            applyStoredHighlights();
        }
    }

    // Save highlights to localStorage
    function saveHighlights() {
        const questionId = getQuestionId();
        localStorage.setItem('highlights_' + questionId, JSON.stringify(questionHighlights));
    }

    // Apply stored highlights
    function applyStoredHighlights() {
        Object.keys(questionHighlights).forEach(key => {
            const element = document.querySelector(`[data-highlight-id="${key}"]`);
            if (element && questionHighlights[key]) {
                element.classList.add('highlighted');
            }
        });
    }

    // Toggle highlighter mode
    function toggleHighlighter(event) {
        event.stopPropagation();
        highlighterActive = !highlighterActive;

        const btn = event.target.closest('.highlighter-btn');
        const icon = btn.querySelector('#highlighterIcon');

        if (highlighterActive) {
            btn.classList.add('active');
            icon.textContent = 'üñçÔ∏è';
            document.body.classList.add('highlighter-mode-active');
        } else {
            btn.classList.remove('active');
            icon.textContent = 'üñäÔ∏è';
            document.body.classList.remove('highlighter-mode-active');
        }
    }

    // Clear all highlights for this question
    function clearHighlights() {
        const questionId = getQuestionId();
        questionHighlights = {};
        localStorage.removeItem('highlights_' + questionId);
        document.querySelectorAll('.highlighted').forEach(el => {
            el.classList.remove('highlighted');
        });
    }

    // Handle text selection and highlighting
    document.addEventListener('mouseup', function(e) {
        if (!highlighterActive) return;

        const selection = window.getSelection();
        if (!selection.toString().trim()) return;

        const range = selection.getRangeAt(0);
        const container = range.commonAncestorContainer;

        // Only highlight text in paragraphs, not in buttons or other elements
        const paragraph = container.nodeType === 3 ? container.parentElement : container;
        if (paragraph.tagName !== 'P' && paragraph.tagName !== 'LI' && paragraph.tagName !== 'TD') {
            return;
        }

        // Create highlight span
        const span = document.createElement('span');
        span.classList.add('highlighted');

        // Generate unique ID for this highlight
        const highlightId = 'hl-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        span.setAttribute('data-highlight-id', highlightId);

        try {
            range.surroundContents(span);
            questionHighlights[highlightId] = true;
            saveHighlights();
        } catch (e) {
            console.log('Could not highlight selection');
        }

        selection.removeAllRanges();
    });

    // Load highlights when page loads
    window.addEventListener('load', loadHighlights);

    // Keyboard shortcut: Ctrl+H to toggle highlighter
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'h') {
            e.preventDefault();
            const btn = document.querySelector('.highlighter-btn');
            if (btn) {
                toggleHighlighter({target: btn, stopPropagation: () => {}});
            }
        }
        // Ctrl+Shift+H to clear all highlights
        if (e.ctrlKey && e.shiftKey && e.key === 'H') {
            e.preventDefault();
            if (confirm('Clear all highlights for this question?')) {
                clearHighlights();
            }
        }
    });
</script>
