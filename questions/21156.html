
<style>
    * {
        box-sizing: border-box !important;
    }

    body {
        font-family: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        line-height: 1.9 !important;
        color: #1f1f1f !important;
        max-width: none !important;
        margin: 0 !important;
        padding: 8px 16px 16px 16px !important;
        background: #ffffff !important;
        font-size: 16.5px !important;
    }

    p {
        margin-bottom: 20px !important;
        font-size: 16.5px !important;
        line-height: 1.95 !important;
        color: #1f1f1f !important;
        font-weight: 400 !important;
    }

    strong, b {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        background: rgba(26, 115, 232, 0.08) !important;
        padding: 2px 6px !important;
        border-radius: 8px !important;
    }

    /* Details/Summary (collapsible sections) */
    details {
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%) !important;
        border-radius: 8px !important;
        padding: 24px 28px !important;
        margin: 24px 0 !important;
        border: none;
        box-shadow: none !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }

    details:hover {
        border-color: #1a73e8 !important;
        box-shadow: none !important;
        transform: translateY(-2px) !important;
    }

    details[open] {
        background: #ffffff !important;
        border-color: #1a73e8 !important;
        box-shadow: none !important;
    }

    summary {
        cursor: pointer !important;
        font-weight: 800 !important;
        color: #ffffff !important;
        font-size: 20px !important;
        padding: 16px 24px !important;
        border-radius: 8px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        display: flex !important;
        align-items: center !important;
        user-select: none !important;
        box-shadow: none !important;
        letter-spacing: 0.5px !important;
    }

    summary:hover {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        transform: translateX(6px) scale(1.02) !important;
        box-shadow: none !important;
    }

    summary:active {
        transform: translateX(4px) scale(0.99) !important;
    }

    summary::marker {
        color: rgba(255, 255, 255, 0.9) !important;
        font-size: 1.3em !important;
    }

    summary strong {
        background: rgba(255, 255, 255, 0.2) !important;
        color: #ffffff !important;
        padding: 4px 12px !important;
        border-radius: 8px !important;
        margin-left: 8px !important;
        font-size: 19px !important;
        letter-spacing: 1px !important;
    }

    /* Tables - Premium Design */
    table {
        width: 100% !important;
        border-collapse: separate !important;
        border-spacing: 0 !important;
        margin: 28px 0 !important;
        border-radius: 8px !important;
        overflow: hidden !important;
        box-shadow: none !important;
        border: none !important;
        background: #ffffff !important;
    }

    table.simple-table {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important;
    }

    table tr {
        transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
        position: relative !important;
    }

    table tr:nth-child(odd) {
        background: rgba(248, 249, 250, 0.5) !important;
    }

    table tr:nth-child(even) {
        background: rgba(255, 255, 255, 0.8) !important;
    }

    table tr:hover {
        background: linear-gradient(90deg, #e8f0fe 0%, #f1f8ff 100%) !important;
        transform: translateX(4px) scale(1.01) !important;
        box-shadow: none !important;
        z-index: 1 !important;
    }

    table td {
        padding: 18px 24px !important;
        border-bottom: 1px solid rgba(232, 234, 237, 0.6) !important;
        font-size: 16.5px !important;
        line-height: 1.7 !important;
        color: #1f1f1f !important;
        vertical-align: middle !important;
    }

    table tr:last-child td {
        border-bottom: none !important;
    }

    /* First column (A, B, C, D, E) */
    table td:first-child {
        font-weight: 800 !important;
        color: #ffffff !important;
        width: 52px !important;
        text-align: center !important;
        font-size: 18px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        border-right: 3px solid #1557b0 !important;
        position: relative !important;
        letter-spacing: 0.5px !important;
    }

    table tr:hover td:first-child {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        box-shadow: none !important;
    }

    /* Second column (content) */
    table td:nth-child(2) {
        font-weight: 500 !important;
        padding-left: 28px !important;
    }

    /* Third column (empty - hide it) */
    table td:last-child:empty {
        display: none !important;
    }

    /* Lists */
    ul, ol {
        margin: 16px 0 !important;
        padding-left: 32px !important;
    }

    li {
        margin: 10px 0 !important;
        line-height: 1.8 !important;
        color: #1f1f1f !important;
    }

    ul.bulleted-list li {
        position: relative !important;
        padding-left: 8px !important;
    }

    ul.toggle {
        list-style: none !important;
        padding-left: 0 !important;
    }

    /* Links */
    a {
        color: #1a73e8 !important;
        text-decoration: none !important;
        font-weight: 600 !important;
        border-bottom: 2px solid transparent !important;
        transition: all 0.2s !important;
    }

    a:hover {
        border-bottom-color: #1a73e8 !important;
        background: rgba(26,115,232,0.08) !important;
        padding: 2px 4px !important;
        border-radius: 8px !important;
    }

    /* Images & Media */
    img, video {
        max-width: none !important;
        height: auto !important;
        border-radius: 8px !important;
        box-shadow: none !important;
        margin: 24px 0 !important;
        display: block !important;
        border: none !important;
    }

    img:hover, video:hover {
        box-shadow: none !important;
        border-color: #1a73e8 !important;
    }

    /* Code blocks (if any) */
    code {
        background: #f1f3f4 !important;
        padding: 2px 8px !important;
        border-radius: 8px !important;
        font-family: 'Courier New', monospace !important;
        font-size: 14px !important;
        color: #d93025 !important;
    }

    pre {
        background: #f8f9fa !important;
        padding: 8px 16px 16px 16px !important;
        border-radius: 8px !important;
        overflow-x: auto !important;
        border-left: 4px solid #1a73e8 !important;
    }

    /* Headings */
    h1, h2, h3, h4, h5, h6 {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        margin-top: 24px !important;
        margin-bottom: 16px !important;
        line-height: 1.4 !important;
    }

    h1 { font-size: 32px !important; }
    h2 { font-size: 26px !important; }
    h3 { font-size: 22px !important; }
    h4 { font-size: 19px !important; }

    /* Blockquotes */
    blockquote {
        border-left: 4px solid #1a73e8 !important;
        padding-left: 20px !important;
        margin: 20px 0 !important;
        font-style: italic !important;
        color: #5f6368 !important;
        background: #f8f9fa !important;
        padding: 16px 20px !important;
        border-radius: 8px !important;
    }

    /* Horizontal Rule */
    hr {
        border: none !important;
        height: 2px !important;
        background: linear-gradient(to right, transparent, #1a73e8, transparent) !important;
        margin: 32px 0 !important;
    }

    /* Selection */
    ::selection {
        background: #e8f0fe !important;
        color: #1a73e8 !important;
    }

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>




<details open>
<summary><strong>21156</strong><button class="bionic-reading-btn" onclick="toggleBionicReading(event)" title="Toggle Bionic Reading (Ctrl+B)"><span id="bionicIcon">üëÅÔ∏è</span></button><button class="highlighter-btn" onclick="toggleHighlighter(event)" title="Toggle Highlighter (Ctrl+H)"><span id="highlighterIcon">üñäÔ∏è</span></button></summary>
<p class="" id="f4743305-9596-4e92-86fa-7ee7be06a5fb">A 17-year-old boy is brought
                                        to the emergency department after passing out.  The patient was standing behind
                                        the dugout watching his friends play baseball when he suddenly felt warm and
                                        light-headed.  Then he remembers awakening on the ground.  Bystanders reported
                                        that the patient was unresponsive for approximately 2 minutes.  He feels
                                        fatigued but does not have chest pain or shortness of breath.  The patient has
                                        no significant medical history and does not use alcohol or drugs.  Temperature
                                        is 36.7 C (98.1 F), supine blood pressure is 105/60 mm Hg and standing blood
                                        pressure is 110/65 mm Hg, pulse is 84/min, and respirations are 16/min.  Pulse
                                        oximetry is 100% on room air.  The patient is awake and alert.  Pupils are equal
                                        and reactive.  Heart and lung examinations are normal.  The abdomen is soft and
                                        nontender.  Neurologic examination is normal.  ECG is unremarkable.  Which of
                                        the following is the most likely cause of this patient's syncope?</p>
<table class="simple-table" id="c1f225c2-1d83-4f4b-baa6-d0e2432ec5f0">
<tbody>
<tr id="760bd07d-2946-4089-ae84-e5b12c427a17">
<td class="" id="=d;U">A.</td>
<td class="" id="iJwt">Increased automaticity of the Purkinje fibers
                                                </td>
<td class="" id="kYUn"></td>
</tr>
<tr id="c7629f4b-c14e-4426-b8f0-20563cb91270">
<td class="" id="=d;U">B.</td>
<td class="" id="iJwt">Increased parasympathetic output to the heart
                                                </td>
<td class="" id="kYUn"></td>
</tr>
<tr id="0754591f-d5e0-4833-9098-54d9945cb514">
<td class="" id="=d;U">C.</td>
<td class="" id="iJwt">Increased sympathetic output to the small vessels
                                                </td>
<td class="" id="kYUn"></td>
</tr>
<tr id="47607625-c388-4929-a1df-4a58c942f6e2">
<td class="" id="=d;U">D.</td>
<td class="" id="iJwt">Reentry arrhythmia using the atrioventricular
                                                    node</td>
<td class="" id="kYUn"></td>
</tr>
<tr id="a9f2e829-7578-4acb-84a8-2f4fac1519dd">
<td class="" id="=d;U">E.</td>
<td class="" id="iJwt">Systolic anterior motion of the mitral valve</td>
<td class="" id="kYUn"></td>
</tr>
</tbody>
</table>
<ul class="toggle" id="e48f92ff-c0e7-4364-af1c-02c9f1f0ad5e">
<li>
<details>
<summary>Submit</summary>
<table class="simple-table" id="15a42da3-0a73-4859-b430-57027887f383">
<tbody>
<tr id="61d79183-bd1b-4d1b-b226-82207c21f924">
<td class="" id="fzUR">A.</td>
<td class="" id="NPDG">Increased automaticity of the
                                                                Purkinje fibers (3%)</td>
<td class="" id="KZIm"></td>
</tr>
<tr id="505754d3-688d-49aa-9bc6-e7b78d2b6814">
<td class="" id="fzUR">B.</td>
<td class="" id="NPDG">Increased parasympathetic output to
                                                                the heart (63%)</td>
<td class="" id="KZIm"></td>
</tr>
<tr id="398d82e2-4cd8-4d31-9487-3a1cc35c5d52">
<td class="" id="fzUR">C.</td>
<td class="" id="NPDG">Increased sympathetic output to the
                                                                small vessels (11%)</td>
<td class="" id="KZIm"></td>
</tr>
<tr id="c416386b-15e1-441d-ae65-20e59f15caac">
<td class="" id="fzUR">D.</td>
<td class="" id="NPDG">Reentry arrhythmia using the
                                                                atrioventricular node (16%)</td>
<td class="" id="KZIm"></td>
</tr>
<tr id="88559c9b-c7f0-45b8-af62-6a878f1ea827">
<td class="" id="fzUR">E.</td>
<td class="" id="NPDG">Systolic anterior motion of the
                                                                mitral valve (5%)</td>
<td class="" id="KZIm"></td>
</tr>
</tbody>
</table>
<p class="" id="de440b41-dbb6-4cbd-a458-6d5075b1d3b0">Omitted</p>
<p class="" id="30d462b4-c9f5-4b0b-836f-4230262bbf52">Correct answer B
                                                </p>
<p class="" id="1ddd4f53-dc94-4fe5-a851-456257512b12">63%Answered
                                                    correctly</p>
<p class="" id="d8a7da07-4fd0-469f-a761-634f29636245">0 secsTime Spent
                                                </p>
<p class="" id="8dc17beb-456c-4825-8951-d96b04bef5b2">2024Version</p>
<ul class="bulleted-list" id="8f9bce73-10a9-4d10-81f7-fd440d52ba8a">
<li style="list-style-type:disc">Explanation</li>
</ul>
<ul class="bulleted-list" id="161e51f3-3102-4ca3-89ec-5c0ddddaf376">
<li style="list-style-type:disc"></li>
</ul>
<table class="simple-table" id="256d606e-54a5-4732-9447-83762485a61c">
<tbody>
<tr id="ad101a41-62dc-4910-b1cd-fa47247bef28">
<td class="" id="iGTA">Vasovagal &amp; situational syncope
                                                            </td>
<td class="" id="X=[k"></td>
</tr>
<tr id="8b7364ce-63e9-4e95-8460-7ba46f912527">
<td class="" id="iGTA">Triggers</td>
<td class="" id="X=[k">‚Ä¢ Pain, anxiety, emotional stress,
                                                                heat, prolonged standing<br/>‚Ä¢ Situational:  cough,
                                                                micturition, defecation<br/></td>
</tr>
<tr id="c48e5e4a-47ec-428f-9ca9-058dca85471d">
<td class="" id="iGTA">Pathophysiology</td>
<td class="" id="X=[k">‚Ä¢ Cardioinhibitory response (‚Üë
                                                                parasympathetic tone):  ‚Üì heart rate &amp;
                                                                contractility<br/>‚Ä¢ Vasodepressor response (‚Üì
                                                                sympathetic tone):  vasodilation, ‚Üì preload<br/></td>
</tr>
<tr id="ef013825-92ed-4230-8349-c392813ac917">
<td class="" id="iGTA">Clinical<br/>presentation<br/></td>
<td class="" id="X=[k">‚Ä¢ Prodrome (eg, warmth, pallor,
                                                                nausea, diaphoresis)<br/>‚Ä¢ Rapid recovery of
                                                                consciousness (eg, &lt;1-2 min)<br/></td>
</tr>
<tr id="d16cbdf2-ee70-4668-bf8c-0817e8c7606b">
<td class="" id="iGTA">Diagnosis</td>
<td class="" id="X=[k">‚Ä¢ Based primarily on clinical history
                                                                and examination<br/>‚Ä¢ Upright tilt table testing
                                                                sometimes indicated in uncertain cases<br/></td>
</tr>
</tbody>
</table>
<p class="" id="028d065c-c137-4b7a-a81e-70853803c954">This patient has
                                                    experienced vasovagal syncope, a type of reflex syncope.  Patients
                                                    with vasovagal syncope typically have a trigger (eg, prolonged
                                                    standing) and experience a prodrome (eg, warmth, light-headedness)
                                                    that immediately precedes loss of consciousness.  The episodes
                                                    usually have a short duration (eg, 1-2 min) and typically involve a
                                                    rapid recovery.  When vasovagal syncope is repeatedly triggered by a
                                                    certain activity (eg, coughing, micturition), it is referred to as
                                                    situational syncope.</p>
<p class="" id="90c29e66-1b20-4848-a531-6be3e23ca209">Reflex syncope is
                                                    the result of inappropriate autonomic output from the brainstem in
                                                    response to signals relayed by various baroreceptors or
                                                    mechanoreceptors.  Vasovagal syncope is often triggered by cortical
                                                    emotions that increase sensitivity to afferent signals, but it can
                                                    also be triggered situationally by increased afferent transmission
                                                    from pulmonary, gastrointestinal, or genitourinary
                                                    mechanoreceptors.  Once these afferent signals are received by the
                                                    brainstem cardioregulatory center, some combination of the following
                                                    effector responses occurs:</p>
<ul class="bulleted-list" id="b0eb7dd5-1608-42c8-97d3-68e8a6ba4788">
<li style="list-style-type:disc">Cardioinhibitory response:
                                                        Increased parasympathetic stimulation to the sinoatrial and
                                                        atrioventricular (AV) nodes slows the heart rate. In addition,
                                                        decreased sympathetic output to the myocardium decreases
                                                        myocardial contractility.</li>
</ul>
<ul class="bulleted-list" id="74325f3a-e29c-4ac4-9848-55322e292cec">
<li style="list-style-type:disc">Vasodepressor response: Decreased
                                                        sympathetic output to vascular smooth muscle causes vasodilation
                                                        of venous capacitance veins (ie, decreased cardiac preload) and
                                                        systemic arterioles (ie, decreased perfusion pressure) (Choice
                                                        C).</li>
</ul>
<p class="" id="909bcb8a-fb5e-459d-a4c7-179acfab0b1e">The result of
                                                    these responses is a brief but profound decrease in cardiac output
                                                    that leads to hypotension, decreased cerebral perfusion, and
                                                    syncope.</p>
<p class="" id="4a43b241-eae4-4a07-9aca-7654c10321f4">(Choices A and D) 
                                                    Cardiac syncope can occur due to the marked reduction in cardiac
                                                    output that results from arrhythmia (eg, ventricular tachycardia, AV
                                                    nodal reentrant tachycardia).  Increased automaticity of the
                                                    Purkinje fibers can trigger ventricular tachycardia, but this
                                                    usually affects patients with ischemic or structural heart disease. 
                                                    AV nodal reentrant tachycardia usually affects young patients, but
                                                    rarely reduces cardiac output enough to cause syncope.  In addition,
                                                    cardiac syncope of any etiology would not be associated with a vagal
                                                    prodrome.</p>
<p class="" id="7ce6ba10-f13d-41cb-b51e-1d82fa8f2b70">(Choice E)  Severe
                                                    left ventricular outflow tract obstruction (eg, aortic stenosis,
                                                    hypertrophic cardiomyopathy [HCM]) can cause cardiac syncope. 
                                                    Systolic anterior motion of the mitral valve can worsen outflow
                                                    obstruction in patients with HCM, but syncope resulting from left
                                                    ventricular outflow obstruction is typically exertional, and this
                                                    patient has no systolic murmur to suggest HCM.</p>
<p class="" id="63c9e410-cc90-41c3-a23a-5b2d04b84022">Educational
                                                    objective:</p>
<p class="" id="3cfae8cb-00c0-47c5-9820-b56acc7b333a">Vasovagal syncope
                                                    typically involves a trigger (eg, prolonged standing), a prodrome
                                                    (eg, warmth, light-headedness), and rapid recovery (eg, within 1-2
                                                    min).  It results from a transient, autonomic nervous
                                                    system‚Äìmediated cardioinhibitory and vasodepressor response.</p>
<p class="" id="86f7cc58-6b3b-4588-910f-a62839d428ee">References</p>
<ul class="bulleted-list" id="38c8ef0e-725e-4402-a125-affc07b00fc8">
<li style="list-style-type:disc"><a href="http://www.ncbi.nlm.nih.gov/pubmed/20084125">Syncope
                                                            in children and adolescents: evaluation and treatment.</a>
</li>
</ul>
<ul class="bulleted-list" id="540b8df2-f492-4e2f-a15e-605442bfcc23">
<li style="list-style-type:disc"><a href="http://www.ncbi.nlm.nih.gov/pubmed/15310717">Reflex
                                                            syncope in children and adolescents</a></li>
</ul>
<p class="" id="33185f88-52c9-42b8-b015-2c022e277db2">Physiology</p>
<p class="" id="317e6749-ef53-4b5e-9b4a-6e63b8aa9a2c">Subject</p>
<p class="" id="e8ad405b-87a5-4758-aa90-406fd9a08e1d">Cardiovascular
                                                    System</p>
<p class="" id="c4fb15e5-6f23-48c4-896d-8af5fcc3eac9">System</p>
<p class="" id="297db540-0d2c-473b-8f11-8bb7dbca276f">Syncope</p>
<p class="" id="6d0cfc6e-9982-420b-96af-b337ad0fc561">Topic</p>
<p class="" id="4c9bf54b-39fa-48ba-a4b7-e2b100272ecf">Copyright ¬©
                                                    UWorld. All rights reserved.</p>
<p class="" id="bd882ff1-0db5-4547-b352-f40f5d879ab5">REVIEW</p>
<p class="" id="4870d955-38b1-42e4-a1dc-8b3010d471d4">‚ú®Done</p>
<p class="" id="9ac97966-5914-4aa9-9b54-e6ac2a337006">Exhibit Display
                                                </p>
<figure class="image" id="7c67e2bf-e4a1-4b77-ad5b-39895e1fa40d"><a href="https://lh7-us.googleusercontent.com/DljaTnfPoOiEWNwcqzkHNq7ZjrbhafHcPasmRWjtV9IVn8tl48ET9qasWhChpJJY3RnG7Vw1RBYgz3yv-aM1MyIfVyhF-_vWOsG7cL0D89a7VH-BvGkqt9Q2R384GB4-5D4PNyw4-H6ky1O7WQDtdO8"><img loading="lazy" src="https://lh7-us.googleusercontent.com/DljaTnfPoOiEWNwcqzkHNq7ZjrbhafHcPasmRWjtV9IVn8tl48ET9qasWhChpJJY3RnG7Vw1RBYgz3yv-aM1MyIfVyhF-_vWOsG7cL0D89a7VH-BvGkqt9Q2R384GB4-5D4PNyw4-H6ky1O7WQDtdO8" style="width:602px"/></a>
</figure>
<p class="" id="11f1d25e-a7cb-436a-9fa3-bfb64dab8203">Zoom InZoom Out 
                                                    ResetNew</p>
<p class="" id="654f3332-8560-4702-a001-9413df4030d1">ExistingMy
                                                    Notebook</p>
</details>
</li>
</ul>
</details>


















<style>
.bionic-reading-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s;
    margin-left: auto;
    flex-shrink: 0;
}

.bionic-reading-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    border-color: rgba(255, 255, 255, 0.5);
    transform: scale(1.1);
}

.bionic-reading-btn.active {
    background: rgba(52, 168, 83, 0.4);
    border-color: rgba(52, 168, 83, 0.6);
}

.bionic-reading-btn.active:hover {
    background: rgba(52, 168, 83, 0.5);
}

summary {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
}

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }


    


    

    /* Adjust table padding to make room for radio button */
    


    /* Clickable Answer Choices */
    table tr.answer-choice {
        cursor: pointer !important;
        transition: all 0.3s ease !important;
    }

    table tr.answer-choice:hover {
        background: #f8f9fa !important;
    }

    table tr.answer-choice td:first-child {
        position: relative !important;
        padding-left: 35px !important;
    }

    table tr.answer-choice td:first-child::before {
        content: '';
        position: absolute;
        left: 8px;
        top: 50%;
        transform: translateY(-50%);
        width: 16px;
        height: 16px;
        border: 2px solid #999;
        border-radius: 50%;
        background: white;
        transition: all 0.2s ease;
        box-sizing: border-box;
    }

    table tr.answer-choice.selected td:first-child::before {
        border-color: #1a73e8;
        border-width: 5px;
    }

    table tr.answer-choice.selected {
        background: #e8f4ff !important;
    }

    table tr.answer-choice.selected td:first-child {
        color: #1a73e8 !important;
        font-weight: 600 !important;
    }

</style>



<script>
let bionicEnabled = false;
const originalContent = {};

function toggleBionicReading(event) {
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }

    bionicEnabled = !bionicEnabled;
    const btn = document.querySelector('.bionic-reading-btn');
    const icon = document.getElementById('bionicIcon');

    if (bionicEnabled) {
        btn.classList.add('active');
        icon.textContent = '‚úÖ';
        applyBionicReading();
    } else {
        btn.classList.remove('active');
        icon.textContent = 'üëÅÔ∏è';
        restoreOriginalText();
    }
}

function applyBionicReading() {
    // Seleciona todos os elementos de texto, EXCETO summary e buttons
    const textElements = document.querySelectorAll('p:not(summary p):not(button p), td:not(summary td):not(button td), li:not(summary li):not(button li)');

    textElements.forEach((element, index) => {
        // Ignora elementos que cont√™m outros elementos complexos
        if (element.querySelector('p, td, li, h1, h2, h3, h4, h5, h6, button, summary')) {
            return;
        }

        // Ignora se o elemento est√° dentro de um summary ou button
        if (element.closest('summary') || element.closest('button') || element.closest('.bionic-reading-btn')) {
            return;
        }

        // Salva o conte√∫do original
        if (!originalContent[index]) {
            originalContent[index] = {
                element: element,
                html: element.innerHTML
            };
        }

        // Aplica Bionic Reading
        const bionicText = convertToBionic(element.textContent);
        element.innerHTML = bionicText;
    });
}

function restoreOriginalText() {
    // Restaura o conte√∫do original
    Object.values(originalContent).forEach(item => {
        item.element.innerHTML = item.html;
    });
}

function convertToBionic(text) {
    // Divide o texto em palavras, mantendo pontua√ß√£o
    const words = text.split(/(\s+|[.,;:!?()""''\-‚Äì‚Äî])/);

    const bionicWords = words.map(word => {
        // Ignora espa√ßos e pontua√ß√£o
        if (word.match(/^\s+$/) || word.match(/^[.,;:!?()""''\-‚Äì‚Äî]+$/)) {
            return word;
        }

        // Ignora palavras muito curtas (1-2 letras)
        if (word.length <= 2) {
            return word;
        }

        // Determina quantas letras deixar em negrito (metade da palavra, arredondado para cima)
        const boldLength = Math.ceil(word.length / 2);

        // Separa a parte em negrito da parte normal
        const boldPart = word.substring(0, boldLength);
        const normalPart = word.substring(boldLength);

        // Retorna com a primeira parte em negrito
        return `<strong style="font-weight: 700 !important; color: inherit !important; background: none !important; padding: 0 !important;">${boldPart}</strong>${normalPart}`;
    });

    return bionicWords.join('');
}

// Adiciona atalho de teclado (Ctrl+B ou Cmd+B)
document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
        e.preventDefault();
        toggleBionicReading();
    }
});
</script>

<script>
    let highlighterActive = false;
    let questionHighlights = {};

    // Get question ID from the first summary strong tag
    function getQuestionId() {
        const firstSummary = document.querySelector('summary strong');
        return firstSummary ? firstSummary.textContent.trim() : '1';
    }

    // Load highlights from localStorage
    function loadHighlights() {
        const questionId = getQuestionId();
        const stored = localStorage.getItem('highlights_' + questionId);
        if (stored) {
            questionHighlights = JSON.parse(stored);
            applyStoredHighlights();
        }
    }

    // Save highlights to localStorage
    function saveHighlights() {
        const questionId = getQuestionId();
        localStorage.setItem('highlights_' + questionId, JSON.stringify(questionHighlights));
    }

    // Apply stored highlights
    function applyStoredHighlights() {
        Object.keys(questionHighlights).forEach(key => {
            const element = document.querySelector(`[data-highlight-id="${key}"]`);
            if (element && questionHighlights[key]) {
                element.classList.add('highlighted');
            }
        });
    }

    // Toggle highlighter mode
    function toggleHighlighter(event) {
        event.stopPropagation();
        highlighterActive = !highlighterActive;

        const btn = event.target.closest('.highlighter-btn');
        const icon = btn.querySelector('#highlighterIcon');

        if (highlighterActive) {
            btn.classList.add('active');
            icon.textContent = 'üñçÔ∏è';
            document.body.classList.add('highlighter-mode-active');
        } else {
            btn.classList.remove('active');
            icon.textContent = 'üñäÔ∏è';
            document.body.classList.remove('highlighter-mode-active');
        }
    }

    // Clear all highlights for this question
    function clearHighlights() {
        const questionId = getQuestionId();
        questionHighlights = {};
        localStorage.removeItem('highlights_' + questionId);
        document.querySelectorAll('.highlighted').forEach(el => {
            el.classList.remove('highlighted');
        });
    }

    // Handle text selection and highlighting
    document.addEventListener('mouseup', function(e) {
        if (!highlighterActive) return;

        const selection = window.getSelection();
        if (!selection.toString().trim()) return;

        const range = selection.getRangeAt(0);
        const container = range.commonAncestorContainer;

        // Only highlight text in paragraphs, not in buttons or other elements
        const paragraph = container.nodeType === 3 ? container.parentElement : container;
        if (paragraph.tagName !== 'P' && paragraph.tagName !== 'LI' && paragraph.tagName !== 'TD') {
            return;
        }

        // Create highlight span
        const span = document.createElement('span');
        span.classList.add('highlighted');

        // Generate unique ID for this highlight
        const highlightId = 'hl-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        span.setAttribute('data-highlight-id', highlightId);

        try {
            range.surroundContents(span);
            questionHighlights[highlightId] = true;
            saveHighlights();
        } catch (e) {
            console.log('Could not highlight selection');
        }

        selection.removeAllRanges();
    });

    // Load highlights when page loads
    window.addEventListener('load', loadHighlights);

    // Keyboard shortcut: Ctrl+H to toggle highlighter
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'h') {
            e.preventDefault();
            const btn = document.querySelector('.highlighter-btn');
            if (btn) {
                toggleHighlighter({target: btn, stopPropagation: () => {}});
            }
        }
        // Ctrl+Shift+H to clear all highlights
        if (e.ctrlKey && e.shiftKey && e.key === 'H') {
            e.preventDefault();
            if (confirm('Clear all highlights for this question?')) {
                clearHighlights();
            }
        }
    });
</script>





<script>
(function() {
    // Get question ID from summary
    function getQuestionId() {
        const firstSummary = document.querySelector('summary strong');
        return firstSummary ? firstSummary.textContent.trim() : '1';
    }

    // Communicate with parent window (if in iframe)
    function notifyParent(choice) {
        if (window.parent && window.parent !== window) {
            window.parent.postMessage({
                type: 'choiceSelected',
                questionId: getQuestionId(),
                choice: choice
            }, '*');
        }
    }

    // Load saved choice from parent or localStorage
    function loadSavedChoice() {
        const questionId = getQuestionId();

        // Try to get from localStorage first
        const saved = localStorage.getItem('choice_q' + questionId);
        if (saved) {
            selectChoice(saved, false);
        }

        // Ask parent for saved choice (if in iframe)
        if (window.parent && window.parent !== window) {
            window.parent.postMessage({
                type: 'getChoice',
                questionId: questionId
            }, '*');
        }
    }

    // Listen for messages from parent
    window.addEventListener('message', function(event) {
        if (event.data.type === 'setChoice' && event.data.questionId === getQuestionId()) {
            selectChoice(event.data.choice, false);
        }
    });

    // Select a choice
    function selectChoice(choice, notify = true) {
        if (!choice) return;

        const questionId = getQuestionId();

        // Remove previous selection
        document.querySelectorAll('tr.answer-choice').forEach(row => {
            row.classList.remove('selected');
        });

        // Add selection to clicked choice
        const choiceRow = document.querySelector(`tr.answer-choice[data-choice="${choice}"]`);
        if (choiceRow) {
            choiceRow.classList.add('selected');

            // Save to localStorage
            localStorage.setItem('choice_q' + questionId, choice);

            // Notify parent (if in iframe)
            if (notify) {
                notifyParent(choice);
            }
        }
    }

    // Initialize answer choices
    function initializeChoices() {
        // Find all answer choice rows (A, B, C, D, E, F, etc.)
        const choicePattern = /^[A-Z]\.$/;
        const tables = document.querySelectorAll('table.simple-table');

        tables.forEach(table => {
            const rows = table.querySelectorAll('tr');
            rows.forEach(row => {
                const firstCell = row.querySelector('td:first-child');
                if (firstCell && choicePattern.test(firstCell.textContent.trim())) {
                    const choice = firstCell.textContent.trim().replace('.', '');
                    row.classList.add('answer-choice');
                    row.setAttribute('data-choice', choice);
                    row.style.position = 'relative';

                    // Add click handler
                    row.addEventListener('click', function(e) {
                        // Don't trigger if clicking inside a link or button
                        if (e.target.tagName === 'A' || e.target.closest('a')) return;

                        // Toggle selection
                        if (this.classList.contains('selected')) {
                            this.classList.remove('selected');
                            const questionId = getQuestionId();
                            localStorage.removeItem('choice_q' + questionId);
                            notifyParent('');
                        } else {
                            selectChoice(choice);
                        }
                    });
                }
            });
        });

        // Load saved choice after a short delay
        setTimeout(loadSavedChoice, 100);
    }

    // Run when page loads
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeChoices);
    } else {
        initializeChoices();
    }
})();
</script>
