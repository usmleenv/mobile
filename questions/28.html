
<style>
    * {
        box-sizing: border-box !important;
    }

    body {
        font-family: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        line-height: 1.9 !important;
        color: #1f1f1f !important;
        max-width: none !important;
        margin: 0 !important;
        padding: 8px 16px 16px 16px !important;
        background: #ffffff !important;
        font-size: 16.5px !important;
    }

    p {
        margin-bottom: 20px !important;
        font-size: 16.5px !important;
        line-height: 1.95 !important;
        color: #1f1f1f !important;
        font-weight: 400 !important;
    }

    strong, b {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        background: rgba(26, 115, 232, 0.08) !important;
        padding: 2px 6px !important;
        border-radius: 8px !important;
    }

    /* Details/Summary (collapsible sections) */
    details {
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%) !important;
        border-radius: 8px !important;
        padding: 24px 28px !important;
        margin: 24px 0 !important;
        border: none;
        box-shadow: none !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }

    details:hover {
        border-color: #1a73e8 !important;
        box-shadow: none !important;
        transform: translateY(-2px) !important;
    }

    details[open] {
        background: #ffffff !important;
        border-color: #1a73e8 !important;
        box-shadow: none !important;
    }

    summary {
        cursor: pointer !important;
        font-weight: 800 !important;
        color: #ffffff !important;
        font-size: 20px !important;
        padding: 16px 24px !important;
        border-radius: 8px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        display: flex !important;
        align-items: center !important;
        user-select: none !important;
        box-shadow: none !important;
        letter-spacing: 0.5px !important;
    }

    summary:hover {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        transform: translateX(6px) scale(1.02) !important;
        box-shadow: none !important;
    }

    summary:active {
        transform: translateX(4px) scale(0.99) !important;
    }

    summary::marker {
        color: rgba(255, 255, 255, 0.9) !important;
        font-size: 1.3em !important;
    }

    summary strong {
        background: rgba(255, 255, 255, 0.2) !important;
        color: #ffffff !important;
        padding: 4px 12px !important;
        border-radius: 8px !important;
        margin-left: 8px !important;
        font-size: 19px !important;
        letter-spacing: 1px !important;
    }

    /* Tables - Premium Design */
    table {
        width: 100% !important;
        border-collapse: separate !important;
        border-spacing: 0 !important;
        margin: 28px 0 !important;
        border-radius: 8px !important;
        overflow: hidden !important;
        box-shadow: none !important;
        border: none !important;
        background: #ffffff !important;
    }

    table.simple-table {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important;
    }

    table tr {
        transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
        position: relative !important;
    }

    table tr:nth-child(odd) {
        background: rgba(248, 249, 250, 0.5) !important;
    }

    table tr:nth-child(even) {
        background: rgba(255, 255, 255, 0.8) !important;
    }

    table tr:hover {
        background: linear-gradient(90deg, #e8f0fe 0%, #f1f8ff 100%) !important;
        transform: translateX(4px) scale(1.01) !important;
        box-shadow: none !important;
        z-index: 1 !important;
    }

    table td {
        padding: 18px 24px !important;
        border-bottom: 1px solid rgba(232, 234, 237, 0.6) !important;
        font-size: 16.5px !important;
        line-height: 1.7 !important;
        color: #1f1f1f !important;
        vertical-align: middle !important;
    }

    table tr:last-child td {
        border-bottom: none !important;
    }

    /* First column (A, B, C, D, E) */
    table td:first-child {
        font-weight: 800 !important;
        color: #ffffff !important;
        width: 52px !important;
        text-align: center !important;
        font-size: 18px !important;
        background: linear-gradient(135deg, #1a73e8 0%, #1557b0 100%) !important;
        border-right: 3px solid #1557b0 !important;
        position: relative !important;
        letter-spacing: 0.5px !important;
    }

    table tr:hover td:first-child {
        background: linear-gradient(135deg, #1557b0 0%, #0d47a1 100%) !important;
        box-shadow: none !important;
    }

    /* Second column (content) */
    table td:nth-child(2) {
        font-weight: 500 !important;
        padding-left: 28px !important;
    }

    /* Third column (empty - hide it) */
    table td:last-child:empty {
        display: none !important;
    }

    /* Lists */
    ul, ol {
        margin: 16px 0 !important;
        padding-left: 32px !important;
    }

    li {
        margin: 10px 0 !important;
        line-height: 1.8 !important;
        color: #1f1f1f !important;
    }

    ul.bulleted-list li {
        position: relative !important;
        padding-left: 8px !important;
    }

    ul.toggle {
        list-style: none !important;
        padding-left: 0 !important;
    }

    /* Links */
    a {
        color: #1a73e8 !important;
        text-decoration: none !important;
        font-weight: 600 !important;
        border-bottom: 2px solid transparent !important;
        transition: all 0.2s !important;
    }

    a:hover {
        border-bottom-color: #1a73e8 !important;
        background: rgba(26,115,232,0.08) !important;
        padding: 2px 4px !important;
        border-radius: 8px !important;
    }

    /* Images & Media */
    img, video {
        max-width: none !important;
        height: auto !important;
        border-radius: 8px !important;
        box-shadow: none !important;
        margin: 24px 0 !important;
        display: block !important;
        border: none !important;
    }

    img:hover, video:hover {
        box-shadow: none !important;
        border-color: #1a73e8 !important;
    }

    /* Code blocks (if any) */
    code {
        background: #f1f3f4 !important;
        padding: 2px 8px !important;
        border-radius: 8px !important;
        font-family: 'Courier New', monospace !important;
        font-size: 14px !important;
        color: #d93025 !important;
    }

    pre {
        background: #f8f9fa !important;
        padding: 8px 16px 16px 16px !important;
        border-radius: 8px !important;
        overflow-x: auto !important;
        border-left: 4px solid #1a73e8 !important;
    }

    /* Headings */
    h1, h2, h3, h4, h5, h6 {
        color: #1a73e8 !important;
        font-weight: 700 !important;
        margin-top: 24px !important;
        margin-bottom: 16px !important;
        line-height: 1.4 !important;
    }

    h1 { font-size: 32px !important; }
    h2 { font-size: 26px !important; }
    h3 { font-size: 22px !important; }
    h4 { font-size: 19px !important; }

    /* Blockquotes */
    blockquote {
        border-left: 4px solid #1a73e8 !important;
        padding-left: 20px !important;
        margin: 20px 0 !important;
        font-style: italic !important;
        color: #5f6368 !important;
        background: #f8f9fa !important;
        padding: 16px 20px !important;
        border-radius: 8px !important;
    }

    /* Horizontal Rule */
    hr {
        border: none !important;
        height: 2px !important;
        background: linear-gradient(to right, transparent, #1a73e8, transparent) !important;
        margin: 32px 0 !important;
    }

    /* Selection */
    ::selection {
        background: #e8f0fe !important;
        color: #1a73e8 !important;
    }

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>




<details open>
<summary><strong>28</strong><button class="bionic-reading-btn" onclick="toggleBionicReading(event)" title="Toggle Bionic Reading (Ctrl+B)"><span id="bionicIcon">üëÅÔ∏è</span></button><button class="highlighter-btn" onclick="toggleHighlighter(event)" title="Toggle Highlighter (Ctrl+H)"><span id="highlighterIcon">üñäÔ∏è</span></button></summary>
<p class="" id="c3669f40-a46a-4174-a99e-4bb8b727b809">A 5-year-old boy is brought to
                                        the office by his mother, who notes that her son's eyes and feet have
                                        looked puffy over the last several weeks.  She is unaware of exactly when this
                                        began but says the patient had a mild upper respiratory tract infection several
                                        weeks ago.  The boy has no pain but mentions that his shoes seem to fit tightly
                                        and bother him, especially when he runs outside during recess at school.  The
                                        mother also remarks that the boy's urine has been excessively foamy
                                        recently.  On further questioning, the mother states that she has seasonal
                                        allergies and asks whether her child also has allergies.  Physical examination
                                        is remarkable for periorbital edema and lower extremity edema.  Urinalysis shows
                                        4+ proteinuria but is otherwise unremarkable.  Which of the following secondary
                                        changes is most likely in this patient?</p>
<table class="simple-table" id="1c1e6eb5-4a78-4e7f-8819-5f2c591d296a">
<tbody>
<tr id="3fc64984-ccfb-4277-9bad-7cd45643e5c7">
<td class="" id="~@qN">A.</td>
<td class="" id="e~U|">Decreased liver albumin synthesis</td>
<td class="" id="p^bD"></td>
</tr>
<tr id="6c2ec929-2d00-4371-b1ab-69f0f8c92775">
<td class="" id="~@qN">B.</td>
<td class="" id="e~U|">Decreased plasma aldosterone level</td>
<td class="" id="p^bD"></td>
</tr>
<tr id="a539ddd2-ab6e-4d17-82b4-8e0bad82d993">
<td class="" id="~@qN">C.</td>
<td class="" id="e~U|">Increased capillary oncotic pressure</td>
<td class="" id="p^bD"></td>
</tr>
<tr id="7381fa28-2929-4d9b-a9dc-6aa93620ae22">
<td class="" id="~@qN">D.</td>
<td class="" id="e~U|">Increased liver lipoprotein synthesis</td>
<td class="" id="p^bD"></td>
</tr>
<tr id="1a602238-e4ba-4e69-8eb7-7f325162b9e4">
<td class="" id="~@qN">E.</td>
<td class="" id="e~U|">Increased renal sodium wasting</td>
<td class="" id="p^bD"></td>
</tr>
</tbody>
</table>
<ul class="toggle" id="a0abf078-ddf5-4523-bc0d-ed4001eb3efa">
<li>
<details>
<summary>Submit</summary>
<table class="simple-table" id="c5912a43-99d1-4cba-bde8-c208b122e134">
<tbody>
<tr id="904d7536-ebbf-4faf-9169-1de5cc604e30">
<td class="" id="QnVW">A.</td>
<td class="" id="PXxp">Decreased liver albumin synthesis
                                                                (9%)</td>
<td class="" id="gGPV"></td>
</tr>
<tr id="9ff9e5c1-9717-4f5c-8662-b2df16113dda">
<td class="" id="QnVW">B.</td>
<td class="" id="PXxp">Decreased plasma aldosterone level
                                                                (5%)</td>
<td class="" id="gGPV"></td>
</tr>
<tr id="ce06a1ae-0dbe-44da-bb73-a0ebdb0e0143">
<td class="" id="QnVW">C.</td>
<td class="" id="PXxp">Increased capillary oncotic pressure
                                                                (13%)</td>
<td class="" id="gGPV"></td>
</tr>
<tr id="0c4417c7-98c5-4566-af39-a54e3e5e4644">
<td class="" id="QnVW">D.</td>
<td class="" id="PXxp">Increased liver lipoprotein synthesis
                                                                (61%)</td>
<td class="" id="gGPV"></td>
</tr>
<tr id="2d9c3390-d0b8-4a2f-b0e7-0c41024cb9f5">
<td class="" id="QnVW">E.</td>
<td class="" id="PXxp">Increased renal sodium wasting (10%)
                                                            </td>
<td class="" id="gGPV"></td>
</tr>
</tbody>
</table>
<p class="" id="1910138f-6660-457d-b303-ba3afef764b7">Incorrect</p>
<p class="" id="a74ee581-ee29-4f2d-831c-4fd3b75853ee">Correct answer D
                                                </p>
<p class="" id="2a8b6d10-2a5e-4895-bb2c-667b3ecc19f4">61%Answered
                                                    correctly</p>
<p class="" id="b960c21b-e2ff-42b2-a096-ae2ca934baab">11 secsTime Spent
                                                </p>
<p class="" id="99a9ff1d-1525-4795-a826-b29c0b785637">2024Version</p>
<ul class="bulleted-list" id="c6d7757d-763f-4ec6-a768-6b11483fbbff">
<li style="list-style-type:disc">Explanation</li>
</ul>
<ul class="bulleted-list" id="2d4e91f0-c7d2-403d-b4d2-1e3ecbaf607b">
<li style="list-style-type:disc"></li>
</ul>
<figure class="image" id="61055764-ed1c-49e9-b855-c776c62cf048"><a href="https://lh7-us.googleusercontent.com/e2y4tu0uBFPp-oERKakYZ7ereM98RBQZ9a4tRokjkRQxtKvNBAk_y60mpLzLLENJvUkGl5DUrS2NtRwgq2Voz_Y51nFFZfgkLl6Xvi_PHA2gFvxCk-eondvmM2MVsV3dNMGuZPJpApsRcMvLgUrCECk"><img loading="lazy" src="https://lh7-us.googleusercontent.com/e2y4tu0uBFPp-oERKakYZ7ereM98RBQZ9a4tRokjkRQxtKvNBAk_y60mpLzLLENJvUkGl5DUrS2NtRwgq2Voz_Y51nFFZfgkLl6Xvi_PHA2gFvxCk-eondvmM2MVsV3dNMGuZPJpApsRcMvLgUrCECk" style="width:480px"/></a>
</figure>
<p class="" id="4be23443-c3b3-4dfd-83ad-6917c8eb14e4">This child most
                                                    likely has minimal change disease, the most common cause of
                                                    nephrotic syndrome in children.  It typically presents suddenly
                                                    after an upper respiratory infection.  The classic features of
                                                    nephrotic syndrome are heavy proteinuria (&gt;3.5 g/day in adults
                                                    and &gt;50 mg/kg/day in children), hypoalbuminemia (&lt;3 g/dL),
                                                    generalized edema, and hyperlipidemia.  Two mechanisms, underfilling
                                                    and overfilling, contribute to the pathogenesis of edema in
                                                    nephrotic syndrome.  The underfilling mechanism is particularly
                                                    significant in minimal change disease in children and presents as
                                                    follows:</p>
<ol class="numbered-list" id="a3ed92f4-bd2a-4d4c-a7a7-2596115b62e8" start="1" type="1">
<li>Increased glomerular capillary permeability to plasma proteins
                                                        leads to massive loss of protein (predominantly albumin) in the
                                                        urine.</li>
</ol>
<ol class="numbered-list" id="d77bb7fe-3dd6-4ee0-98ac-983586dcc323" start="2" type="1">
<li>The large decrease in serum albumin causes a drop in
                                                        intravascular oncotic pressure, which results in fluid moving
                                                        into the interstitial space and edema formation (Choice C).</li>
</ol>
<ol class="numbered-list" id="7861019e-6c0b-48d0-b59e-c1cf29efe03b" start="3" type="1">
<li>The fluid shift results in intravascular volume depletion (ie,
                                                        underfilling), which triggers the renin-angiotensin-aldosterone
                                                        system to increase aldosterone synthesis (secondary
                                                        hyperaldosteronism) and antidiuretic hormone secretion (Choice
                                                        B). The result is intravascular sodium and water retention
                                                        (Choice E). This fluid leaks back out into the interstitial
                                                        space due to the low oncotic pressure, exacerbating the edema.
                                                    </li>
</ol>
<ol class="numbered-list" id="98bf340d-5d3f-42dc-8fb0-225540cf6c7f" start="4" type="1">
<li>Low intravascular oncotic pressure stimulates increased
                                                        lipoprotein production in the liver. Impaired lipid catabolism
                                                        due to decreased lipoprotein lipase and abnormal transport of
                                                        circulating lipid particles also contributes to hyperlipidemia.
                                                    </li>
</ol>
<p class="" id="010323e6-a980-4c7e-8e55-03bc5a34b095">(Choice A)  When
                                                    the serum albumin level decreases due to its massive loss in the
                                                    urine, the liver responds by increasing albumin synthesis.  However,
                                                    the amount of renal albumin loss exceeds the liver synthetic
                                                    capacity.</p>
<p class="" id="7219dac0-eb03-4a81-9bd0-23d577a6d9af">Educational
                                                    objective:</p>
<p class="" id="18acd65d-7c1c-42b0-84ae-0ec442f3d25f">Minimal change
                                                    disease is the most common childhood nephrotic syndrome.  Increased
                                                    glomerular capillary permeability causes massive protein (eg,
                                                    albumin) loss in the urine.  Hypoalbuminemia reduces plasma oncotic
                                                    pressure, which causes a fluid shift into the interstitial space,
                                                    resulting in edema.  Low oncotic pressure also triggers increased
                                                    lipoprotein production in the liver (ie, hyperlipidemia).</p>
<p class="" id="1b368f34-62c9-4736-9c63-dd458614099e">References</p>
<ul class="bulleted-list" id="5ef2980f-fcfe-4808-8cc1-124924297bc5">
<li style="list-style-type:disc"><a href="http://www.ncbi.nlm.nih.gov/pubmed/26793696">Pathophysiology,
                                                            evaluation, and management of edema in childhood nephrotic
                                                            syndrome.</a></li>
</ul>
<ul class="bulleted-list" id="97bc713b-2ea5-422a-85d7-9e92355e8b42">
<li style="list-style-type:disc"><a href="http://www.ncbi.nlm.nih.gov/pubmed/22718186">The
                                                            pathophysiology of edema formation in the nephrotic
                                                            syndrome.</a></li>
</ul>
<p class="" id="80f8e5d5-7718-4ecc-8b61-a23aefc7c0a7">Pathology</p>
<p class="" id="3cbcb5f1-9b75-4e60-8e8a-53ba687ec727">Subject</p>
<p class="" id="13ece31f-13cb-4087-bc2f-177028ef7d76">Renal, Urinary
                                                    Systems &amp; Electrolytes</p>
<p class="" id="d26b7b64-196b-461b-b52b-cc350ff59b22">System</p>
<p class="" id="320c06ef-07f1-4207-971b-107f1595a07c">Glomerular
                                                    disorders</p>
<p class="" id="3508722b-a37c-4efb-88b0-bbfe9f91a6ad">Topic</p>
<p class="" id="77c3420f-62d2-498f-8a72-0e3893d332d8">Copyright ¬©
                                                    UWorld. All rights reserved.</p>
<p class="" id="1ebf223c-85f2-4eb4-b547-f6a5ce6948ac">‚ú®Done</p>
<p class="" id="9884eb51-9086-4812-a849-f9281c08c901">Exhibit Display
                                                </p>
<figure class="image" id="f4413912-7af3-41e4-a741-2cc33e6a7daa"><a href="https://lh7-us.googleusercontent.com/uA8lbZOJypM0DT_vzQ_amPSckmcAqBMP7xLmm594MzbizjLy_JCkXT0s0_vazdQFPeyMR6ZB9Pk0SgNZIr0zqAYwwV_z0LMmCn7fGD4FuFJ2nlVvH8gwKK46C1V0ujEeLYHmQ9FI5Eh51KSAef5dF00"><img loading="lazy" src="https://lh7-us.googleusercontent.com/uA8lbZOJypM0DT_vzQ_amPSckmcAqBMP7xLmm594MzbizjLy_JCkXT0s0_vazdQFPeyMR6ZB9Pk0SgNZIr0zqAYwwV_z0LMmCn7fGD4FuFJ2nlVvH8gwKK46C1V0ujEeLYHmQ9FI5Eh51KSAef5dF00" style="width:602px"/></a>
</figure>
<p class="" id="76cf0720-8f9d-46a5-860e-ed2f356cca5f">Zoom InZoom Out 
                                                    ResetNew</p>
<p class="" id="aa321618-11c3-48dc-b38b-8a335cffbb82">ExistingMy
                                                    Notebook</p>
</details>
</li>
</ul>
</details>


















<style>
.bionic-reading-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: white;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s;
    margin-left: auto;
    flex-shrink: 0;
}

.bionic-reading-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    border-color: rgba(255, 255, 255, 0.5);
    transform: scale(1.1);
}

.bionic-reading-btn.active {
    background: rgba(52, 168, 83, 0.4);
    border-color: rgba(52, 168, 83, 0.6);
}

.bionic-reading-btn.active:hover {
    background: rgba(52, 168, 83, 0.5);
}

summary {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
}

    /* Highlighter styles */
    .highlighted {
        background-color: #ffeb3b !important;
        transition: background-color 0.2s ease !important;
    }

    .highlighter-btn {
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 20px !important;
        padding: 0 8px !important;
        margin-left: 8px !important;
        transition: transform 0.2s ease !important;
        vertical-align: middle !important;
    }

    .highlighter-btn:hover {
        transform: scale(1.2) !important;
    }

    .highlighter-btn.active {
        transform: scale(1.1) !important;
        filter: brightness(1.2) !important;
    }

    .highlighter-mode-active {
        cursor: text !important;
    }


    /* Right padding to avoid overlap with sidebar buttons */
    body {
        padding-right: 50px !important;
    }

    @media (max-width: 768px) {
        body {
            padding-right: 16px !important;
        }
    }

</style>



<script>
let bionicEnabled = false;
const originalContent = {};

function toggleBionicReading(event) {
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }

    bionicEnabled = !bionicEnabled;
    const btn = document.querySelector('.bionic-reading-btn');
    const icon = document.getElementById('bionicIcon');

    if (bionicEnabled) {
        btn.classList.add('active');
        icon.textContent = '‚úÖ';
        applyBionicReading();
    } else {
        btn.classList.remove('active');
        icon.textContent = 'üëÅÔ∏è';
        restoreOriginalText();
    }
}

function applyBionicReading() {
    // Seleciona todos os elementos de texto, EXCETO summary e buttons
    const textElements = document.querySelectorAll('p:not(summary p):not(button p), td:not(summary td):not(button td), li:not(summary li):not(button li)');

    textElements.forEach((element, index) => {
        // Ignora elementos que cont√™m outros elementos complexos
        if (element.querySelector('p, td, li, h1, h2, h3, h4, h5, h6, button, summary')) {
            return;
        }

        // Ignora se o elemento est√° dentro de um summary ou button
        if (element.closest('summary') || element.closest('button') || element.closest('.bionic-reading-btn')) {
            return;
        }

        // Salva o conte√∫do original
        if (!originalContent[index]) {
            originalContent[index] = {
                element: element,
                html: element.innerHTML
            };
        }

        // Aplica Bionic Reading
        const bionicText = convertToBionic(element.textContent);
        element.innerHTML = bionicText;
    });
}

function restoreOriginalText() {
    // Restaura o conte√∫do original
    Object.values(originalContent).forEach(item => {
        item.element.innerHTML = item.html;
    });
}

function convertToBionic(text) {
    // Divide o texto em palavras, mantendo pontua√ß√£o
    const words = text.split(/(\s+|[.,;:!?()""''\-‚Äì‚Äî])/);

    const bionicWords = words.map(word => {
        // Ignora espa√ßos e pontua√ß√£o
        if (word.match(/^\s+$/) || word.match(/^[.,;:!?()""''\-‚Äì‚Äî]+$/)) {
            return word;
        }

        // Ignora palavras muito curtas (1-2 letras)
        if (word.length <= 2) {
            return word;
        }

        // Determina quantas letras deixar em negrito (metade da palavra, arredondado para cima)
        const boldLength = Math.ceil(word.length / 2);

        // Separa a parte em negrito da parte normal
        const boldPart = word.substring(0, boldLength);
        const normalPart = word.substring(boldLength);

        // Retorna com a primeira parte em negrito
        return `<strong style="font-weight: 700 !important; color: inherit !important; background: none !important; padding: 0 !important;">${boldPart}</strong>${normalPart}`;
    });

    return bionicWords.join('');
}

// Adiciona atalho de teclado (Ctrl+B ou Cmd+B)
document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
        e.preventDefault();
        toggleBionicReading();
    }
});
</script>

<script>
    let highlighterActive = false;
    let questionHighlights = {};

    // Get question ID from the first summary strong tag
    function getQuestionId() {
        const firstSummary = document.querySelector('summary strong');
        return firstSummary ? firstSummary.textContent.trim() : '1';
    }

    // Load highlights from localStorage
    function loadHighlights() {
        const questionId = getQuestionId();
        const stored = localStorage.getItem('highlights_' + questionId);
        if (stored) {
            questionHighlights = JSON.parse(stored);
            applyStoredHighlights();
        }
    }

    // Save highlights to localStorage
    function saveHighlights() {
        const questionId = getQuestionId();
        localStorage.setItem('highlights_' + questionId, JSON.stringify(questionHighlights));
    }

    // Apply stored highlights
    function applyStoredHighlights() {
        Object.keys(questionHighlights).forEach(key => {
            const element = document.querySelector(`[data-highlight-id="${key}"]`);
            if (element && questionHighlights[key]) {
                element.classList.add('highlighted');
            }
        });
    }

    // Toggle highlighter mode
    function toggleHighlighter(event) {
        event.stopPropagation();
        highlighterActive = !highlighterActive;

        const btn = event.target.closest('.highlighter-btn');
        const icon = btn.querySelector('#highlighterIcon');

        if (highlighterActive) {
            btn.classList.add('active');
            icon.textContent = 'üñçÔ∏è';
            document.body.classList.add('highlighter-mode-active');
        } else {
            btn.classList.remove('active');
            icon.textContent = 'üñäÔ∏è';
            document.body.classList.remove('highlighter-mode-active');
        }
    }

    // Clear all highlights for this question
    function clearHighlights() {
        const questionId = getQuestionId();
        questionHighlights = {};
        localStorage.removeItem('highlights_' + questionId);
        document.querySelectorAll('.highlighted').forEach(el => {
            el.classList.remove('highlighted');
        });
    }

    // Handle text selection and highlighting
    document.addEventListener('mouseup', function(e) {
        if (!highlighterActive) return;

        const selection = window.getSelection();
        if (!selection.toString().trim()) return;

        const range = selection.getRangeAt(0);
        const container = range.commonAncestorContainer;

        // Only highlight text in paragraphs, not in buttons or other elements
        const paragraph = container.nodeType === 3 ? container.parentElement : container;
        if (paragraph.tagName !== 'P' && paragraph.tagName !== 'LI' && paragraph.tagName !== 'TD') {
            return;
        }

        // Create highlight span
        const span = document.createElement('span');
        span.classList.add('highlighted');

        // Generate unique ID for this highlight
        const highlightId = 'hl-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
        span.setAttribute('data-highlight-id', highlightId);

        try {
            range.surroundContents(span);
            questionHighlights[highlightId] = true;
            saveHighlights();
        } catch (e) {
            console.log('Could not highlight selection');
        }

        selection.removeAllRanges();
    });

    // Load highlights when page loads
    window.addEventListener('load', loadHighlights);

    // Keyboard shortcut: Ctrl+H to toggle highlighter
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'h') {
            e.preventDefault();
            const btn = document.querySelector('.highlighter-btn');
            if (btn) {
                toggleHighlighter({target: btn, stopPropagation: () => {}});
            }
        }
        // Ctrl+Shift+H to clear all highlights
        if (e.ctrlKey && e.shiftKey && e.key === 'H') {
            e.preventDefault();
            if (confirm('Clear all highlights for this question?')) {
                clearHighlights();
            }
        }
    });
</script>
